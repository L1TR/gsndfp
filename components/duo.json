{
  "src/index.coffee": {
    "id": "src/index.coffee",
    "type": "js",
    "mtime": 1429491123000,
    "src": "\n/*!\n *  Project: gsnevent triggering\n * ===============================\n */\n\n\n/* Usage:\n *   For Publisher:\n *         Gsn.Advertising.clickBrickOffer(clickTrackingUrl, 69);\n#\n *   For Consumer:\n *         Gsn.Advertising.on('clickBrickOffer', function(evt)) { alert(evt.OfferCode); });\n#\n * The following events are currently available: clickProduct, clickPromotion, clickBrand, clickBrickOffer, clickRecipe, and clickLink\n */\n\n(function() {\n  (function(win) {\n    var Plugin, aPlugin, attrs, buildQueryString, circPlus, createFrame, defaults, doc, fn, gsnContext, gsnDfp, gsnSw2, gsndfpfactory, i, j, k, len, len1, myGsn, myPlugin, oldGsnAdvertising, prefix, ref, ref1, script, tickerFrame, trakless, trakless2;\n    defaults = require('defaults');\n    trakless2 = require('trakless');\n    gsndfpfactory = require('./gsndfpfactory.coffee');\n    doc = win.document;\n    gsnContext = win.gsnContext;\n    trakless = win.trakless;\n    tickerFrame = void 0;\n    myGsn = win.Gsn || {};\n    oldGsnAdvertising = myGsn.Advertising;\n    gsnSw2 = new gsndfpfactory();\n    gsnDfp = new gsndfpfactory();\n    circPlus = new gsndfpfactory();\n    if (typeof oldGsnAdvertising !== 'undefined') {\n      if (oldGsnAdvertising.pluginLoaded) {\n        return;\n      }\n    }\n    createFrame = function() {\n      var tempIFrame;\n      if (typeof tickerFrame === 'undefined') {\n        tempIFrame = doc.createElement('iframe');\n        tempIFrame.setAttribute('id', 'gsnticker');\n        tempIFrame.style.position = 'absolute';\n        tempIFrame.style.top = '-9999em';\n        tempIFrame.style.left = '-9999em';\n        tempIFrame.style.zIndex = '99';\n        tempIFrame.style.border = '0px';\n        tempIFrame.style.width = '0px';\n        tempIFrame.style.height = '0px';\n        tickerFrame = doc.body.appendChild(tempIFrame);\n        if (doc.frames) {\n          tickerFrame = doc.frames['gsnticker'];\n        }\n      }\n    };\n    Plugin = (function() {\n      function Plugin() {}\n\n      Plugin.prototype.pluginLoaded = true;\n\n      Plugin.prototype.defaultActionParam = {\n        page: void 0,\n        evtname: '',\n        dept: void 0,\n        deviceid: '',\n        storeid: '',\n        consumerid: '',\n        isanon: false,\n        loyaltyid: '',\n        aisle: '',\n        category: '',\n        shelf: '',\n        brand: '',\n        pcode: '',\n        pdesc: '',\n        latlng: [0, 0],\n        evtcategory: '',\n        evtvalue: 0\n      };\n\n      Plugin.prototype.translator = {\n        siteid: 'sid',\n        page: 'pg',\n        evtname: 'en',\n        dept: 'dpt',\n        deviceid: 'dvc',\n        storeid: 'str',\n        consumerid: 'cust',\n        isanon: 'isa',\n        loyaltyid: 'loy',\n        aisle: 'asl',\n        category: 'cat',\n        shelf: 'shf',\n        brand: 'brd',\n        pcode: 'pcd',\n        pdesc: 'pds',\n        latlng: 'latlng',\n        evtcategory: 'ec',\n        evtvalue: 'ev'\n      };\n\n      Plugin.prototype.isDebug = false;\n\n      Plugin.prototype.gsnid = 0;\n\n      Plugin.prototype.selector = 'body';\n\n      Plugin.prototype.apiUrl = 'https://clientapi.gsn2.com/api/v1';\n\n      Plugin.prototype.gsnNetworkId = void 0;\n\n      Plugin.prototype.gsnNetworkStore = void 0;\n\n      Plugin.prototype.onAllEvents = void 0;\n\n      Plugin.prototype.oldGsnAdvertising = oldGsnAdvertising;\n\n      Plugin.prototype.minSecondBetweenRefresh = 5;\n\n      Plugin.prototype.enableCircPlus = false;\n\n      Plugin.prototype.disableSw = '';\n\n      Plugin.prototype.source = '';\n\n      Plugin.prototype.targetting = {};\n\n      Plugin.prototype.depts = [];\n\n      Plugin.prototype.circPlusBody = void 0;\n\n      Plugin.prototype.refreshExisting = {\n        circPlus: false,\n        pods: false\n      };\n\n      Plugin.prototype.circPlusDept = void 0;\n\n      Plugin.prototype.timer = void 0;\n\n\n      /**\n       * get network id\n      #\n       * @return {Object}\n       */\n\n      Plugin.prototype.getNetworkId = function() {\n        var self;\n        self = this;\n        return self.gsnNetworkId + ((self.source || \"\").length > 0 ? \".\" + self.source : \"\");\n      };\n\n\n      /**\n       * trigger a gsnevent\n      #\n       * @param {String} en - event name\n       * @param {Object} ed - event data\n       * @return {Object}\n       */\n\n      Plugin.prototype.trigger = function(en, ed) {\n        if (en.indexOf('gsnevent') < 0) {\n          en = 'gsnevent:' + en;\n        }\n        win.setTimeout((function() {\n          trakless.util.trigger(en, {\n            type: en,\n            detail: ed\n          });\n          if (typeof this.onAllEvents === 'function') {\n            this.onAllEvents({\n              type: en,\n              detail: ed\n            });\n          }\n        }), 100);\n        return this;\n      };\n\n\n      /**\n       * listen to a gsnevent\n      #\n       * @param {String} en - event name\n       * @param {Function} cb - callback\n       * @return {Object}\n       */\n\n      Plugin.prototype.on = function(en, cb) {\n        if (en.indexOf('gsnevent') < 0) {\n          en = 'gsnevent:' + en;\n        }\n        trakless.util.on(en, cb);\n        return this;\n      };\n\n\n      /**\n       * detach from event\n      #\n       * @param {String} en - event name\n       * @param {Function} cb - cb\n       * @return {Object}\n       */\n\n      Plugin.prototype.off = function(en, cb) {\n        if (en.indexOf('gsnevent') < 0) {\n          en = 'gsnevent:' + en;\n        }\n        trakless.util.off(en, cb);\n        return this;\n      };\n\n      Plugin.prototype.log = function(message) {\n        var self;\n        self = myGsn.Advertising;\n        if (self.isDebug && console) {\n          console.log(message);\n        }\n        return this;\n      };\n\n\n      /**\n       * trigger action tracking\n      #\n       * @param {String} actionParam\n       * @return {Object}\n       */\n\n      Plugin.prototype.trackAction = function(actionParam) {\n        var i, k, len, self, traker, translatedParam, v;\n        self = myGsn.Advertising;\n        translatedParam = {};\n        if (actionParam != null) {\n          for (k = i = 0, len = actionParam.length; i < len; k = ++i) {\n            v = actionParam[k];\n            translatedParam[self.translator[k]] = v;\n          }\n          traker = trakless.getDefaultTracker();\n          traker.track('gsn', translatedParam);\n        }\n        self.log(trakless.util.stringToJSON(actionParam));\n        return this;\n      };\n\n\n      /**\n       * utility method to normalize category\n      #\n       * @param {String} keyword\n       * @return {String}\n       */\n\n      Plugin.prototype.cleanKeyword = function(keyword) {\n        var result;\n        result = keyword.replace(/[^a-zA-Z0-9]+/gi, '_').replace(/^[_]+/gi, '');\n        if (result.toLowerCase != null) {\n          result = result.toLowerCase();\n        }\n        return result;\n      };\n\n\n      /**\n       * add a dept\n      #\n       * @param {String} dept\n       * @return {Object}\n       */\n\n      Plugin.prototype.addDept = function(dept) {\n        var depts, goodDepts, i, len, oldDepts, self;\n        self = myGsn.Advertising;\n        if (dept != null) {\n          oldDepts = self.depts;\n          depts = [];\n          goodDepts = {};\n          depts.push(self.cleanKeyword(dept));\n          goodDepts[depts[0]] = 1;\n          self.circPlusDept = depts[0];\n          for (i = 0, len = oldDepts.length; i < len; i++) {\n            dept = oldDepts[i];\n            if (goodDepts[dept] == null) {\n              depts.push(dept);\n            }\n            goodDepts[dept] = 1;\n          }\n          while (depts.length > 5) {\n            depts.pop();\n          }\n          self.depts = depts;\n        }\n        return this;\n      };\n\n\n      /**\n       * fire a tracking url\n      #\n       * @param {String} url\n       * @return {Object}\n       */\n\n      Plugin.prototype.ajaxFireUrl = function(url) {\n        if (typeof url === 'string') {\n          if (url.length < 10) {\n            return;\n          }\n          url = url.replace('%%CACHEBUSTER%%', (new Date).getTime());\n          createFrame();\n          tickerFrame.src = url;\n        }\n        return this;\n      };\n\n\n      /**\n       * Trigger when a product is clicked.  AKA: clickThru\n      #\n       */\n\n      Plugin.prototype.clickProduct = function(click, categoryId, brandName, productDescription, productCode, quantity, displaySize, regularPrice, currentPrice, savingsAmount, savingsStatement, adCode, creativeId) {\n        this.ajaxFireUrl(click);\n        this.trigger('clickProduct', {\n          myPlugin: this,\n          CategoryId: categoryId,\n          BrandName: brandName,\n          Description: productDescription,\n          ProductCode: productCode,\n          DisplaySize: displaySize,\n          RegularPrice: regularPrice,\n          CurrentPrice: currentPrice,\n          SavingsAmount: savingsAmount,\n          SavingsStatement: savingsStatement,\n          AdCode: adCode,\n          CreativeId: creativeId,\n          Quantity: quantity || 1\n        });\n        return this;\n      };\n\n\n      /**\n       * Trigger when a brick offer is clicked.  AKA: brickRedirect\n      #\n       */\n\n      Plugin.prototype.clickBrickOffer = function(click, offerCode, checkCode) {\n        this.ajaxFireUrl(click);\n        this.trigger('clickBrickOffer', {\n          myPlugin: this,\n          OfferCode: offerCode || 0\n        });\n        return this;\n      };\n\n\n      /**\n       * Trigger when a brand offer or shopper welcome is clicked.\n      #\n       */\n\n      Plugin.prototype.clickBrand = function(click, brandName) {\n        this.ajaxFireUrl(click);\n        this.setBrand(brandName);\n        this.trigger('clickBrand', {\n          myPlugin: this,\n          BrandName: brandName\n        });\n        return this;\n      };\n\n\n      /**\n       * Trigger when a promotion is clicked.  AKA: promotionRedirect\n      #\n       */\n\n      Plugin.prototype.clickPromotion = function(click, adCode) {\n        this.ajaxFireUrl(click);\n        this.trigger('clickPromotion', {\n          myPlugin: this,\n          AdCode: adCode\n        });\n        return this;\n      };\n\n\n      /**\n       * Trigger when a recipe is clicked.  AKA: recipeRedirect\n      #\n       */\n\n      Plugin.prototype.clickRecipe = function(click, recipeId) {\n        this.ajaxFireUrl(click);\n        this.trigger('clickRecipe', {\n          RecipeId: recipeId\n        });\n        return this;\n      };\n\n\n      /**\n       * Trigger when a generic link is clicked.  AKA: verifyClickThru\n      #\n       */\n\n      Plugin.prototype.clickLink = function(click, url, target) {\n        if (target === void 0 || target === '') {\n          target = '_top';\n        }\n        this.ajaxFireUrl(click);\n        this.trigger('clickLink', {\n          myPlugin: this,\n          Url: url,\n          Target: target\n        });\n        return this;\n      };\n\n\n      /**\n       * set the brand for the session\n      #\n       */\n\n      Plugin.prototype.setBrand = function(brandName) {\n        trakless.util.session('gsndfp:brand', brandName);\n        return this;\n      };\n\n\n      /**\n       * get the brand currently in session\n      #\n       */\n\n      Plugin.prototype.getBrand = function() {\n        return trakless.util.session('gsndfp:brand');\n      };\n\n\n      /**\n       * handle a dom event\n      #\n       */\n\n      Plugin.prototype.actionHandler = function(evt) {\n        var allData, elem, i, k, len, payLoad, realk, self, v;\n        self = myGsn.Advertising;\n        elem = evt.target ? evt.target : evt.srcElement;\n        payLoad = {};\n        if (elem != null) {\n          allData = trakless.util.allData(elem);\n          for (v = i = 0, len = allData.length; i < len; v = ++i) {\n            k = allData[v];\n            if (!(/^gsn/gi.test(k))) {\n              continue;\n            }\n            realk = /^gsn/i.replace(k, '').toLowerCase();\n            payLoad[realk] = v;\n          }\n        }\n        self.refresh(payLoad);\n        return self;\n      };\n\n\n      /**\n       * internal method for refreshing adpods\n      #\n       */\n\n      Plugin.prototype.refreshAdPodsInternal = function(actionParam, forceRefresh) {\n        var canRefresh, lastRefreshTime, payLoad, self, targetting;\n        self = myGsn.Advertising;\n        payLoad = defaults(actionParam, self.defaultActionParam);\n        payLoad.siteid = self.gsnid;\n        self.trackAction(payLoad);\n        canRefresh = lastRefreshTime <= 0 || ((new Date).getTime() / 1000 - lastRefreshTime) >= self.minSecondBetweenRefresh;\n        if (forceRefresh || canRefresh) {\n          lastRefreshTime = (new Date()).getTime() / 1000;\n          self.addDept(payLoad.dept);\n          if (forceRefresh) {\n            self.refreshExisting.pods = false;\n            self.refreshExisting.circPlus = false;\n          }\n          targetting = {\n            dept: self.depts || [],\n            brand: self.getBrand()\n          };\n          if (payLoad.page) {\n            targetting.kw = payLoad.page.replace(/[^a-z]/gi, '');\n          }\n          gsnDfp.init(self.getNetworkId().replace(/\\/$/gi, '') + (self.gsnNetworkStore || ''), {\n            setTargeting: targetting,\n            refreshExisting: self.refreshExisting.pods\n          });\n          self.refreshExisting.pods = true;\n          if (self.enableCircPlus) {\n            targetting.dept = [self.circPlusDept || 'produce'];\n            circPlus.init(self.getNetworkId().replace(/\\/$/gi, '') + (self.gsnNetworkStore || ''), {\n              setTargeting: targetting,\n              circPlusBody: self.circPlusBody,\n              dfpSelector: '.circplus',\n              refreshExisting: self.refreshExisting.circPlus\n            });\n            self.refreshExisting.circPlus = true;\n          }\n        }\n        return this;\n      };\n\n\n      /**\n       * adpods refresh\n      #\n       */\n\n      Plugin.prototype.refresh = function(actionParam, forceRefresh) {\n        var self;\n        self = myGsn.Advertising;\n        if (!self.hasGsnUnit()) {\n          return self;\n        }\n        if (self.gsnid) {\n          gsnSw2.init(self.gsnid, {\n            displayWhenExists: '.gsnadunit,.gsnunit',\n            dfpSelector: '.gsnsw',\n            onData: function(evt) {\n              if ((self.source || '').length > 0) {\n                return evt.cancel = self.disableSw.indexOf(self.source) > 0;\n              }\n            },\n            onClose: function() {\n              if (self.selector != null) {\n                trakless.util.onClick(self.selector, self.actionHandler, '.gsnaction');\n                self.selector = null;\n              }\n              return self.refreshAdPodsInternal(actionParam, forceRefresh);\n            }\n          });\n        }\n        return this;\n      };\n\n\n      /**\n       * determine if there are adpods on the page\n      #\n       */\n\n      Plugin.prototype.hasGsnUnit = function() {\n        return trakless.util.$('.gsnadunit,.gsnunit,.circplus').length > 0;\n      };\n\n\n      /**\n       * set global defaults\n      #\n       */\n\n      Plugin.prototype.setDefault = function(defaultParam) {\n        var self;\n        self = myGsn.Advertising;\n        self.defaultActionParam = defaults(defaultParam, self.defaultActionParam);\n        return this;\n      };\n\n\n      /**\n       * method for support refreshing with timer\n      #\n       */\n\n      Plugin.prototype.refreshWithTimer = function(actionParam) {\n        var self, timer;\n        self = myGsn.Advertising;\n        if (actionParam == null) {\n          actionParam = {\n            evtname: 'refresh-timer'\n          };\n        }\n        self.refresh(actionParam, true);\n        timer = (self.timer || 0) * 1000;\n        if (timer > 0) {\n          setTimeout(self.refreshWithTimer, timer);\n        }\n        return this;\n      };\n\n\n      /**\n       * the onload method, document ready friendly\n      #\n       */\n\n      Plugin.prototype.load = function(gsnid, isDebug) {\n        var self;\n        self = myGsn.Advertising;\n        if (gsnid) {\n          self.gsnid = gsnid;\n          if (!self.isDebug) {\n            self.isDebug = isDebug;\n          }\n        }\n        return self.refreshWithTimer({\n          evtname: 'loading'\n        });\n      };\n\n      return Plugin;\n\n    })();\n    myPlugin = new Plugin;\n    myGsn.Advertising = myPlugin;\n    myGsn.Advertising.brickRedirect = myPlugin.clickBrickOffer;\n    myGsn.Advertising.clickBrand = myPlugin.clickBrand;\n    myGsn.Advertising.clickThru = myPlugin.clickProduct;\n    myGsn.Advertising.refreshAdPods = myPlugin.refresh;\n    myGsn.Advertising.logAdImpression = function() {};\n    myGsn.Advertising.logAdRequest = function() {};\n    myGsn.Advertising.promotionRedirect = myPlugin.clickPromotion;\n    myGsn.Advertising.verifyClickThru = myPlugin.clickLink;\n    myGsn.Advertising.recipeRedirect = myPlugin.clickRecipe;\n    win.Gsn = myGsn;\n    buildQueryString = function(keyWord, keyValue) {\n      if (keyValue !== null) {\n        keyValue = new String(keyValue);\n        if (keyWord !== 'ProductDescription') {\n          keyValue = keyValue.replace(/&/, '`');\n        }\n        return keyWord + '=' + keyValue.toString();\n      } else {\n        return '';\n      }\n    };\n    if ((gsnContext != null)) {\n      myGsn.Advertising.on('clickRecipe', function(data) {\n        if (data.type !== 'gsnevent:clickRecipe') {\n          return;\n        }\n        win.location.replace('/Recipes/RecipeFull.aspx?recipeid=' + data.detail.RecipeId);\n      });\n      myGsn.Advertising.on('clickProduct', function(data) {\n        var product, queryString;\n        if (data.type !== 'gsnevent:clickProduct') {\n          return;\n        }\n        product = data.detail;\n        if (product) {\n          queryString = new String('');\n          queryString += buildQueryString('DepartmentID', product.CategoryId);\n          queryString += '~';\n          queryString += buildQueryString('BrandName', product.BrandName);\n          queryString += '~';\n          queryString += buildQueryString('ProductDescription', product.Description);\n          queryString += '~';\n          queryString += buildQueryString('ProductCode', product.ProductCode);\n          queryString += '~';\n          queryString += buildQueryString('DisplaySize', product.DisplaySize);\n          queryString += '~';\n          queryString += buildQueryString('RegularPrice', product.RegularPrice);\n          queryString += '~';\n          queryString += buildQueryString('CurrentPrice', product.CurrentPrice);\n          queryString += '~';\n          queryString += buildQueryString('SavingsAmount', product.SavingsAmount);\n          queryString += '~';\n          queryString += buildQueryString('SavingsStatement', product.SavingsStatement);\n          queryString += '~';\n          queryString += buildQueryString('Quantity', product.Quantity);\n          queryString += '~';\n          queryString += buildQueryString('AdCode', product.AdCode);\n          queryString += '~';\n          queryString += buildQueryString('CreativeID', product.CreativeId);\n          if (typeof AddAdToShoppingList === 'function') {\n            AddAdToShoppingList(queryString);\n          }\n        }\n      });\n      myGsn.Advertising.on('clickLink', function(data) {\n        var linkData;\n        if (data.type !== 'gsnevent:clickLink') {\n          return;\n        }\n        linkData = data.detail;\n        if (linkData) {\n          if (linkData.Target === void 0 || linkData.Target === '') {\n            linkData.Target = '_top';\n          }\n          if (linkData.Target === '_blank') {\n            win.open(linkData.Url);\n          } else {\n            win.location.replace(linkData.Url);\n          }\n        }\n      });\n      myGsn.Advertising.on('clickPromotion', function(data) {\n        var linkData;\n        if (data.type !== 'gsnevent:clickPromotion') {\n          return;\n        }\n        linkData = data.detail;\n        if (linkData) {\n          win.location.replace('/Ads/Promotion.aspx?adcode=' + linkData.AdCode);\n        }\n      });\n      myGsn.Advertising.on('clickBrickOffer', function(data) {\n        var linkData, url;\n        if (data.type !== 'gsnevent:clickBrickOffer') {\n          return;\n        }\n        linkData = data.detail;\n        if (linkData) {\n          url = myGsn.Advertising.apiUrl + '/profile/BrickOffer/' + gsnContext.ConsumerID + '/' + linkData.OfferCode;\n          win.open(url, '');\n        }\n      });\n    }\n    aPlugin = myGsn.Advertising;\n    if (!aPlugin) {\n      return;\n    }\n    attrs = {\n      debug: function(value) {\n        if (typeof value !== \"string\") {\n          return;\n        }\n        return aPlugin.isDebug = value !== \"false\";\n      },\n      api: function(value) {\n        if (typeof value !== \"string\") {\n          return;\n        }\n        return aPlugin.apiUrl = value;\n      },\n      source: function(value) {\n        if (typeof value !== \"string\") {\n          return;\n        }\n        return aPlugin.source = value;\n      },\n      gsnid: function(value) {\n        if (!value) {\n          return;\n        }\n        aPlugin.gsnid = value;\n        return trakless.setSiteId(value);\n      },\n      timer: function(value) {\n        if (!value) {\n          return;\n        }\n        return aPlugin.timer = value;\n      },\n      selector: function(value) {\n        if (typeof value !== \"string\") {\n          return;\n        }\n        return aPlugin.selector = value;\n      }\n    };\n    ref = doc.getElementsByTagName(\"script\");\n    for (i = 0, len = ref.length; i < len; i++) {\n      script = ref[i];\n      if (/gsndfp/i.test(script.src)) {\n        ref1 = ['', 'data-'];\n        for (j = 0, len1 = ref1.length; j < len1; j++) {\n          prefix = ref1[j];\n          for (k in attrs) {\n            fn = attrs[k];\n            fn(script.getAttribute(prefix + k));\n          }\n        }\n      }\n    }\n    trakless.setPixel('//pi.gsngrocers.com/pi.gif');\n    if (aPlugin.hasGsnUnit()) {\n      aPlugin.load();\n    } else {\n      trakless.util.ready(function() {\n        return aPlugin.load();\n      });\n    }\n    return;\n    return module.exports = myGsn;\n  })(window);\n\n}).call(this);\n",
    "deps": {
      "defaults": "components/avetisk-defaults@0.0.4/index.js",
      "trakless": "components/niiknow-trakless@gh-pages/trakless.js",
      "./gsndfpfactory.coffee": "src/gsndfpfactory.coffee"
    },
    "entry": true
  },
  "components/avetisk-defaults@0.0.4/index.js": {
    "id": "components/avetisk-defaults@0.0.4/index.js",
    "type": "js",
    "mtime": 1366874994000,
    "src": "'use strict';\n\n/**\n * Merge default values.\n *\n * @param {Object} dest\n * @param {Object} defaults\n * @return {Object}\n * @api public\n */\nvar defaults = function (dest, src, recursive) {\n  for (var prop in src) {\n    if (recursive && dest[prop] instanceof Object && src[prop] instanceof Object) {\n      dest[prop] = defaults(dest[prop], src[prop], true);\n    } else if (! (prop in dest)) {\n      dest[prop] = src[prop];\n    }\n  }\n\n  return dest;\n};\n\n/**\n * Expose `defaults`.\n */\nmodule.exports = defaults;\n",
    "deps": {}
  },
  "src/gsndfpfactory.coffee": {
    "id": "src/gsndfpfactory.coffee",
    "type": "js",
    "mtime": 1429502435000,
    "src": "\n/*!\n *  Project: gsndfp\n * ===============================\n */\n\n(function() {\n  (function(win) {\n    'use strict';\n    var $, $doc, $win, circplusTemplate, gmodal, gsnSw, gsndfpfactory, swcss, trakless, trakless2;\n    trakless2 = require('trakless');\n    trakless = win.trakless;\n    gmodal = require('gmodal');\n    swcss = require('./sw.css');\n    circplusTemplate = require('./circplus.html');\n    $ = win.trakless.util.$;\n    $win = win;\n    $doc = $win.document;\n    gsnSw = null;\n\n    /** \n     * gsndfpfactory\n    #\n     */\n    gsndfpfactory = (function() {\n      var didOpen;\n\n      function gsndfpfactory() {}\n\n      gsndfpfactory.prototype.dfpID = '';\n\n      gsndfpfactory.prototype.count = 0;\n\n      gsndfpfactory.prototype.rendered = 0;\n\n      gsndfpfactory.prototype.dfpSelector = '.gsnunit';\n\n      gsndfpfactory.prototype.dfpOptions = {};\n\n      gsndfpfactory.prototype.dfpIsLoaded = false;\n\n      gsndfpfactory.prototype.$adCollection = void 0;\n\n      gsndfpfactory.prototype.adBlockerOn = false;\n\n      gsndfpfactory.prototype.storeAs = 'gsnunit';\n\n      gsndfpfactory.prototype.bodyTemplate = circplusTemplate;\n\n      didOpen = false;\n\n      gsndfpfactory.prototype.init = function(id, options) {\n        var selector, self;\n        self = this;\n        self.dfpLoader();\n        options = options || {};\n        if ((id != null)) {\n          self.dfpID = id;\n        }\n        self.setOptions(options);\n        options = self.dfpOptions;\n        selector = options.dfpSelector;\n        if (selector === '.circplus') {\n          if ($(selector).innerHTML === '') {\n            if (options.templateSelector) {\n              $(selector).fill($(options.templateSelector).innerHTML);\n            } else {\n              $(selector).fill(options.bodyTemplate || bodyTemplate);\n            }\n          }\n          self.$adCollection = $($('.cpslot').get().reverse());\n          self.storeAs = 'circplus';\n        } else if (selector === '.gsnsw') {\n          if ($(options.displayWhenExists || '.gsnunit').length <= 0) {\n            return;\n          }\n          self.storeAs = 'gsnsw';\n          if (self.getCookie('gsnsw2') === null) {\n            self.getPopup(selector);\n            Gsn.Advertising.on('clickBrand', function(e) {\n              gmodal.hide();\n            });\n          } else {\n            onCloseCallback({\n              cancel: true\n            });\n          }\n          gsnSw = self;\n          return self;\n        } else {\n          self.$adCollection = $(selector);\n          self.createAds();\n          self.displayAds();\n        }\n        return this;\n      };\n\n      gsndfpfactory.prototype.setOptions = function(options) {\n        var dfpOptions, k, self, v;\n        self = this;\n        dfpOptions = {\n          setTargeting: {},\n          setCategoryExclusion: '',\n          setLocation: '',\n          enableSingleRequest: false,\n          collapseEmptyDivs: true,\n          refreshExisting: true,\n          disablePublisherConsole: false,\n          disableInitialLoad: false,\n          inViewOnly: true,\n          noFetch: false\n        };\n        for (k in options) {\n          v = options[k];\n          dfpOptions[k] = v;\n        }\n        self.dfpOptions = dfpOptions;\n        return this;\n      };\n\n      gsndfpfactory.prototype.onOpenCallback = function(event) {\n        var self;\n        self = gsnSw;\n        self.didOpen = true;\n        $('.remove').remove();\n        self.$adCollection = $(self.dfpSelector);\n        self.createAds();\n        self.displayAds();\n        setTimeout((function() {\n          if (self.adBlockerOn) {\n            $('.sw-msg')[0].style.display = 'block';\n            $('.sw-header-copy')[0].style.display = 'none';\n            $('.sw-row')[0].style.display = 'none';\n          }\n        }), 150);\n      };\n\n      gsndfpfactory.prototype.onCloseCallback = function(event) {\n        var self;\n        self = this;\n        $win.scrollTo(0, 0);\n        if (!self.getCookie('gsnsw2')) {\n          self.setCookie('gsnsw2', Gsn.Advertising.gsnNetworkId + \",\" + Gsn.Advertising.enableCircPlus + \",\" + Gsn.Advertising.disableSw, 1);\n        }\n        if (typeof self.dfpOptions.onClose === 'function') {\n          self.dfpOptions.onClose(self.didOpen);\n        }\n      };\n\n      gsndfpfactory.prototype.swSucccess = function(myrsp) {\n        var data, evt, rsp, self;\n        rsp = JSON.parse(myrsp);\n        self = gsnSw;\n        if (rsp) {\n          if (!Gsn.Advertising.gsnNetworkId) {\n            Gsn.Advertising.gsnNetworkId = rsp.NetworkId;\n          }\n          Gsn.Advertising.enableCircPlus = rsp.EnableCircPlus;\n          Gsn.Advertising.disableSw = rsp.DisableSw;\n          data = rsp.Template;\n        }\n        self.dfpID = Gsn.Advertising.getNetworkId();\n        evt = {\n          data: rsp,\n          cancel: false\n        };\n        self.dfpOptions.onData(evt);\n        if (evt.cancel) {\n          data = null;\n        }\n        if (data) {\n          data = data.replace(/%%CACHEBUSTER%%/g, (new Date).getTime()).replace(/%%CHAINID%%/g, Gsn.Advertising.gsnid);\n          $win.gmodal.on('show', self.onOpenCallback);\n          $win.gmodal.on('hide', self.onCloseCallback);\n          $win.gmodal.on('click', function(evt) {\n            if (evt.target.className.indexOf('sw-close') >= 0) {\n              return $win.gmodal.hide();\n            }\n          });\n          $win.gmodal.show({\n            content: \"<div id='sw'>\" + data + \"<div>\"\n          });\n        } else {\n          self.onCloseCallback({\n            cancel: true\n          });\n        }\n        return this;\n      };\n\n      gsndfpfactory.prototype.getPopup = function(selector) {\n        var dataType, self, url;\n        self = this;\n        url = Gsn.Advertising.apiUrl + \"/ShopperWelcome/Get/\" + Gsn.Advertising.gsnid;\n        dataType = 'json';\n        if (!!($win.opera && $win.opera.version)) {\n          if ($doc.all && !$win.atop) {\n            $win.gsnswCallback = function(rsp) {\n              return self.swSucccess(rsp);\n            };\n            url += '?callback=gsnswCallback';\n            dataType = 'jsonp';\n          }\n        }\n        if (dataType === 'jsonp') {\n\n        } else {\n          $.request('GET', url).then(self.swSucccess);\n        }\n        return this;\n      };\n\n      gsndfpfactory.prototype.getCookie = function(nameOfCookie) {\n        var begin, cookieData, cookieDatas, end;\n        if ($doc.cookie.length > 0) {\n          begin = $doc.cookie.indexOf(nameOfCookie + '=');\n          end = 0;\n          if (begin !== -1) {\n            begin += nameOfCookie.length + 1;\n            end = $doc.cookie.indexOf(';', begin);\n            if (end === -1) {\n              end = $doc.cookie.length;\n            }\n            cookieData = decodeURI($doc.cookie.substring(begin, end));\n            if (cookieData.indexOf(',') > 0) {\n              cookieDatas = cookieData.split(',');\n              Gsn.Advertising.gsnNetworkId = cookieDatas[0];\n              Gsn.Advertising.enableCircPlus = cookieData[1];\n              Gsn.Advertising.disableSw = cookieData[2];\n            }\n            return cookieData;\n          }\n        }\n        return null;\n      };\n\n      gsndfpfactory.prototype.setCookie = function(nameOfCookie, value, expiredays) {\n        var ExpireDate;\n        ExpireDate = new Date;\n        ExpireDate.setTime(ExpireDate.getTime() + expiredays * 24 * 3600 * 1000);\n        $doc.cookie = nameOfCookie + '=' + encodeURI(value) + (expiredays === null ? '' : '; expires=' + ExpireDate.toGMTString()) + '; path=/';\n      };\n\n      gsndfpfactory.prototype.clearCookie = function(nameOfCookie) {\n        var self;\n        self = this;\n        if (nameOfCookie === self.getCookie(nameOfCookie)) {\n          $doc.cookie = nameOfCookie + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT';\n        }\n      };\n\n      gsndfpfactory.prototype.createAds = function() {\n        var $adUnit, $existingContent, adUnit, adUnitID, allData, dimensions, i, k, len, ref, self;\n        self = this;\n        self.dfpID = Gsn.Advertising.getNetworkId();\n        ref = self.$adCollection;\n        for (k = i = 0, len = ref.length; i < len; k = ++i) {\n          adUnit = ref[k];\n          $adUnit = $(adUnit);\n          allData = trakless.util.allData(adUnit);\n          self.count++;\n          adUnitID = self.getID($adUnit, self.storeAs, self.count, adUnit);\n          dimensions = self.getDimensions($adUnit, allData);\n          $existingContent = adUnit.innerHTML;\n          $adUnit.fill('').set('$', '+display-none');\n          $win.googletag.cmd.push(function() {\n            var $adUnitData, companion, exclusions, exclusionsGroup, googleAdUnit, j, len1, targeting, v, valueTrimmed;\n            googleAdUnit = void 0;\n            $adUnitData = adUnit[self.storeAs];\n            if ($adUnitData) {\n              return;\n            }\n            self.dfpID = self.dfpID.replace(/(\\/\\/)+/gi, '/').replace(/\\s+/gi, '').replace(/(\\/)$/, '/');\n            if (self.dfpID.indexOf('/') !== 0) {\n              self.dfpID = '/' + dfpID;\n            }\n            if (allData['outofpage']) {\n              googleAdUnit = $win.googletag.defineOutOfPageSlot(self.dfpID, adUnitID).addService($win.googletag.pubads());\n            } else {\n              googleAdUnit = $win.googletag.defineSlot(self.dfpID, dimensions, adUnitID).addService($win.googletag.pubads());\n            }\n            companion = allData['companion'];\n            if (companion != null) {\n              googleAdUnit.addService($win.googletag.companionAds());\n            }\n            targeting = allData['targeting'];\n            if (targeting) {\n              if (typeof targeting === 'string') {\n                targeting = eval('(' + targeting + ')');\n              }\n              for (k in targeting) {\n                v = targeting[k];\n                if (k === 'brand') {\n                  Gsn.Advertising.setBrand(v);\n                }\n                googleAdUnit.setTargeting(k, v);\n                return;\n              }\n            }\n            exclusions = allData['exclusions'];\n            if (exclusions) {\n              exclusionsGroup = exclusions.split(',');\n              valueTrimmed = void 0;\n              for (k = j = 0, len1 = exclusionsGroup.length; j < len1; k = ++j) {\n                v = exclusionsGroup[k];\n                valueTrimmed = trakless.util.trim(v);\n                if (valueTrimmed.length > 0) {\n                  googleAdUnit.setCategoryExclusion(valueTrimmed);\n                }\n                return;\n              }\n            }\n            googleAdUnit.oldRenderEnded = googleAdUnit.oldRenderEnded || googleAdUnit.renderEnded;\n            googleAdUnit.renderEnded = function() {\n              var display;\n              rendered++;\n              display = adUnit.style.display;\n              $adUnit.set('$', '-display-none').set('$', '+display-' + display);\n              if (googleAdUnit.oldRenderEnded != null) {\n                googleAdUnit.oldRenderEnded();\n              }\n              if (typeof dfpOptions.afterEachAdLoaded === 'function') {\n                dfpOptions.afterEachAdLoaded.call(this, $adUnit);\n              }\n              if (typeof dfpOptions.afterAllAdsLoaded === 'function' && rendered === self.count) {\n                dfpOptions.afterAllAdsLoaded.call(this, $adCollection);\n              }\n            };\n            adUnit[self.storeAs] = googleAdUnit;\n          });\n        }\n        $win.googletag.cmd.push(function() {\n          var brand, exclusionsGroup, j, len1, ref1, v, valueTrimmed;\n          if (typeof self.dfpOptions.setTargeting['brand'] === 'undefined') {\n            brand = Gsn.Advertising.getBrand();\n            if (brand != null) {\n              self.dfpOptions.setTargeting['brand'] = brand;\n            }\n          }\n          if (self.dfpOptions.enableSingleRequest) {\n            $win.googletag.pubads().enableSingleRequest();\n          }\n          ref1 = self.dfpOptions.setTargeting;\n          for (k in ref1) {\n            v = ref1[k];\n            if (k === 'brand') {\n              Gsn.Advertising.setBrand(v);\n            }\n            $win.googletag.pubads().setTargeting(k, v);\n          }\n          if (typeof self.dfpOptions.setLocation === 'object') {\n            if (typeof self.dfpOptions.setLocation.latitude === 'number' && typeof self.dfpOptions.setLocation.longitude === 'number' && typeof self.dfpOptions.setLocation.precision === 'number') {\n              $win.googletag.pubads().setLocation(self.dfpOptions.setLocation.latitude, self.dfpOptions.setLocation.longitude, self.dfpOptions.setLocation.precision);\n            } else if (typeof self.dfpOptions.setLocation.latitude === 'number' && typeof self.dfpOptions.setLocation.longitude === 'number') {\n              $win.googletag.pubads().setLocation(self.dfpOptions.setLocation.latitude, self.dfpOptions.setLocation.longitude);\n            }\n          }\n          if (self.dfpOptions.setCategoryExclusion.length > 0) {\n            exclusionsGroup = self.dfpOptions.setCategoryExclusion.split(',');\n            for (k = j = 0, len1 = exclusionsGroup.length; j < len1; k = ++j) {\n              v = exclusionsGroup[k];\n              valueTrimmed = trakless.util.trim(v);\n              if (valueTrimmed.length > 0) {\n                $win.googletag.pubads().setCategoryExclusion(valueTrimmed);\n              }\n            }\n          }\n          if (self.dfpOptions.collapseEmptyDivs || self.dfpOptions.collapseEmptyDivs === 'original') {\n            $win.googletag.pubads().collapseEmptyDivs();\n          }\n          if (self.dfpOptions.disablePublisherConsole) {\n            $win.googletag.pubads().disablePublisherConsole();\n          }\n          if (self.dfpOptions.disableInitialLoad) {\n            $win.googletag.pubads().disableInitialLoad();\n          }\n          if (self.dfpOptions.noFetch) {\n            $win.googletag.pubads().noFetch();\n          }\n          if (self.dfpSelector === '.circplus') {\n            $win.googletag.companionAds().setRefreshUnfilledSlots(true);\n          }\n          $win.googletag.enableServices();\n        });\n      };\n\n      gsndfpfactory.prototype.isInView = function(elem) {\n        var docViewBottom, docViewTop, elemBottom, elemTop;\n        docViewTop = $($win).scrollTop();\n        docViewBottom = docViewTop + $($win).height();\n        elemTop = elem.offset().top;\n        elemBottom = elemTop + elem.height();\n        return elemTop + (elemBottom - elemTop) / 2 >= docViewTop && elemTop + (elemBottom - elemTop) / 2 <= docViewBottom;\n      };\n\n      gsndfpfactory.prototype.displayAds = function() {\n        var $adUnit, $adUnitData, adUnit, i, k, len, ref, self, toPush;\n        self = this;\n        toPush = [];\n        ref = self.$adCollection;\n        for (k = i = 0, len = ref.length; i < len; k = ++i) {\n          adUnit = ref[k];\n          $adUnit = $(adUnit);\n          $adUnitData = adUnit[self.storeAs];\n          if (self.dfpOptions.refreshExisting && $adUnitData && adUnit['gsnDfpExisting']) {\n            if (!self.dfpOptions.inViewOnly || self.isInView($adUnit)) {\n              toPush.push($adUnitData);\n            }\n          } else {\n            adUnit['gsnDfpExisting'] = true;\n            $win.googletag.cmd.push(function() {\n              return $win.googletag.display($adUnit.get('@id'));\n            });\n          }\n        }\n        if (toPush.length > 0) {\n          $win.googletag.cmd.push(function() {\n            return $win.googletag.pubads().refresh(toPush);\n          });\n        }\n      };\n\n      gsndfpfactory.prototype.getID = function($adUnit, adUnitName, count, adUnit) {\n        var self;\n        self = this;\n        if (!self.dfpOptions.refreshExisting) {\n          delete adUnit[self.storeAs];\n          delete adUnit['gsnDfpExisting'];\n          if ($adUnit.get('@id')) {\n            $adUnit.set('@id', adUnitName + '-auto-gen-id-' + count);\n          }\n        }\n        return $adUnit.get('@id') || $adUnit.set('@id', adUnitName + '-auto-gen-id-' + count).get('@id');\n      };\n\n      gsndfpfactory.prototype.getDimensions = function($adUnit, allData) {\n        var dimensionGroups, dimensionSet, dimensions, dimensionsData, i, k, len, v;\n        dimensions = [];\n        dimensionsData = allData['dimensions'];\n        if (dimensionsData) {\n          dimensionGroups = dimensionsData.split(',');\n          for (k = i = 0, len = dimensionGroups.length; i < len; k = ++i) {\n            v = dimensionGroups[k];\n            dimensionSet = v.split('x');\n            dimensions.push([parseInt(dimensionSet[0], 10), parseInt(dimensionSet[1], 10)]);\n          }\n        }\n        return dimensions;\n      };\n\n      gsndfpfactory.prototype.dfpLoader = function() {\n        var gads, node, useSsl;\n        if (self.dfpIsLoaded) {\n          return;\n        }\n        $win.googletag = $win.googletag || {};\n        $win.googletag.cmd = $win.googletag.cmd || [];\n        gads = $doc.createElement('script');\n        gads.async = true;\n        gads.type = 'text/javascript';\n        gads.onerror = function() {\n          self.dfpBlocked();\n        };\n        useSsl = 'https:' === $doc.location.protocol;\n        gads.src = (useSsl ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';\n        node = $doc.getElementsByTagName('script')[0];\n        node.parentNode.insertBefore(gads, node);\n        self.dfpIsLoaded = true;\n        if (gads.style.display === 'none') {\n          self.dfpBlocked();\n        }\n        return this;\n      };\n\n      gsndfpfactory.prototype.dfpBlocked = function() {\n        var commands, self;\n        self = this;\n        self.adBlockerOn = true;\n        commands = $win.googletag.cmd;\n        setTimeout((function() {\n          var _defineSlot, i, k, len, v;\n          _defineSlot = function(name, dimensions, id, oop) {\n            $win.googletag.ads.push(id);\n            $win.googletag.ads[id] = {\n              renderEnded: function() {},\n              addService: function() {\n                return this;\n              }\n            };\n            return $win.googletag.ads[id];\n          };\n          $win.googletag = {\n            cmd: {\n              push: function(callback) {\n                callback.call(self);\n                return this;\n              }\n            },\n            ads: [],\n            pubads: function() {\n              return this;\n            },\n            noFetch: function() {\n              return this;\n            },\n            disableInitialLoad: function() {\n              return this;\n            },\n            disablePublisherConsole: function() {\n              return this;\n            },\n            enableSingleRequest: function() {\n              return this;\n            },\n            setTargeting: function() {\n              return this;\n            },\n            collapseEmptyDivs: function() {\n              return this;\n            },\n            enableServices: function() {\n              return this;\n            },\n            defineSlot: function(name, dimensions, id) {\n              return _defineSlot(name, dimensions, id, false);\n            },\n            defineOutOfPageSlot: function(name, id) {\n              return _defineSlot(name, [], id, true);\n            },\n            display: function(id) {\n              $win.googletag.ads[id].renderEnded.call(self);\n              return this;\n            }\n          };\n          for (k = i = 0, len = commands.length; i < len; k = ++i) {\n            v = commands[k];\n            $win.googletag.cmd.push(v);\n            return;\n          }\n        }), 50);\n      };\n\n      return gsndfpfactory;\n\n    })();\n    return module.exports = gsndfpfactory;\n  })(window);\n\n}).call(this);\n",
    "deps": {
      "trakless": "components/niiknow-trakless@gh-pages/trakless.js",
      "gmodal": "components/niiknow-gmodal@gh-pages/index.js",
      "./sw.css": "src/sw.css",
      "./circplus.html": "src/circplus.html"
    }
  },
  "src/sw.css": {
    "id": "src/sw.css",
    "type": "js",
    "mtime": 1429073672000,
    "src": "module.exports = '';",
    "deps": {}
  },
  "src/circplus.html": {
    "id": "src/circplus.html",
    "type": "js",
    "mtime": 1429073602000,
    "src": "module.exports = '\\'<div class=\"gsn-slot-container\"><div class=\"cpslot cpslot2\" data-companion=\"true\" data-dimensions=\"300x50\"></div></div><div class=\"gsn-slot-container\"><div class=\"cpslot cpslot1\" data-dimensions=\"300x100,300x120\"></div></div>\\'';",
    "deps": {}
  },
  "components/niiknow-trakless@gh-pages/trakless.js": {
    "id": "components/niiknow-trakless@gh-pages/trakless.js",
    "type": "js",
    "mtime": 1429501926000,
    "src": "(function outer(modules, cache, entries){\n\n  /**\n   * Global\n   */\n\n  var global = (function(){ return this; })();\n\n  /**\n   * Require `name`.\n   *\n   * @param {String} name\n   * @param {Boolean} jumped\n   * @api public\n   */\n\n  function require(name, jumped){\n    if (cache[name]) return cache[name].exports;\n    if (modules[name]) return call(name, require);\n    throw new Error('cannot find module \"' + name + '\"');\n  }\n\n  /**\n   * Call module `id` and cache it.\n   *\n   * @param {Number} id\n   * @param {Function} require\n   * @return {Function}\n   * @api private\n   */\n\n  function call(id, require){\n    var m = cache[id] = { exports: {} };\n    var mod = modules[id];\n    var name = mod[2];\n    var fn = mod[0];\n\n    fn.call(m.exports, function(req){\n      var dep = modules[id][1][req];\n      return require(dep ? dep : req);\n    }, m, m.exports, outer, modules, cache, entries);\n\n    // expose as `name`.\n    if (name) cache[name] = cache[id];\n\n    return cache[id].exports;\n  }\n\n  /**\n   * Require all entries exposing them on global if needed.\n   */\n\n  for (var id in entries) {\n    if (entries[id]) {\n      global[entries[id]] = require(id);\n    } else {\n      require(id);\n    }\n  }\n\n  /**\n   * Duo flag.\n   */\n\n  require.duo = true;\n\n  /**\n   * Expose cache.\n   */\n\n  require.cache = cache;\n\n  /**\n   * Expose modules\n   */\n\n  require.modules = modules;\n\n  /**\n   * Return newest require.\n   */\n\n   return require;\n})({\n1: [function(require, module, exports) {\n(function() {\n  var $defaultTracker, $pixel, $siteid, $trakless2, attrs, fn, i, j, k, len, len1, myutil, prefix, ref, ref1, script, tracker, trakless, traklessParent, win, xstore;\n\n  win = window;\n\n  tracker = require('./tracker.coffee');\n\n  myutil = require('./myutil.coffee');\n\n  xstore = require('xstore');\n\n  $defaultTracker = null;\n\n  $siteid = 0;\n\n  $pixel = '/pixel.gif';\n\n\n  /**\n   * tracker factory\n  #\n   */\n\n  trakless = (function() {\n    function trakless() {}\n\n\n    /**\n     * set default siteid\n    #\n     * @param {Number} siteid - the site id\n     * @return {Object}\n     */\n\n    trakless.setSiteId = function(siteid) {\n      $siteid = siteid > 0 ? siteid : $siteid;\n    };\n\n\n    /**\n     * set default pixel\n    #\n     * @param {String} pixel - the default pixel url\n     * @return {Object}\n     */\n\n    trakless.setPixel = function(pixelUrl) {\n      $pixel = pixelUrl || $pixel;\n    };\n\n\n    /**\n     * the storage\n    #\n     * @return {Object}\n     */\n\n    trakless.store = xstore;\n\n\n    /**\n     * you can provide different siteid and pixelUrl for in multi-tracker and site scenario\n    #\n     * @param {Number} siteid - the siteid\n     * @param {String} pixelUrl - the pixel url\n     * @return {Object}\n     */\n\n    trakless.getTracker = function(siteid, pixelUrl) {\n      var rst;\n      rst = new tracker(siteid, pixelUrl);\n      rst.siteid = siteid || $siteid;\n      rst.pixel = pixelUrl || $pixel;\n      rst.store = xstore;\n      return rst;\n    };\n\n\n    /**\n     * get the default racker\n    #\n     */\n\n    trakless.getDefaultTracker = function() {\n      if ($defaultTracker == null) {\n        $defaultTracker = trakless.getTracker();\n      }\n      return $defaultTracker;\n    };\n\n\n    /**\n     * utility\n    #\n     */\n\n    trakless.util = myutil;\n\n    return trakless;\n\n  })();\n\n  $trakless2 = trakless;\n\n  if (win.top !== win) {\n    try {\n      traklessParent = win.top.trakless;\n      $trakless2 = traklessParent;\n    } catch (_error) {\n      $trakless2 = win.parent.trakless;\n    }\n  }\n\n  trakless.util.trakless2 = $trakless2;\n\n  attrs = {\n    site: function(value) {\n      return trakless.setSiteId(value);\n    },\n    pixel: function(value) {\n      if (typeof value !== \"string\") {\n        return;\n      }\n      return trakless.setPixel(value);\n    }\n  };\n\n  ref = win.document.getElementsByTagName(\"script\");\n  for (i = 0, len = ref.length; i < len; i++) {\n    script = ref[i];\n    if (/trakless/i.test(script.src)) {\n      ref1 = ['', 'data-'];\n      for (j = 0, len1 = ref1.length; j < len1; j++) {\n        prefix = ref1[j];\n        for (k in attrs) {\n          fn = attrs[k];\n          fn(script.getAttribute(prefix + k));\n        }\n      }\n    }\n  }\n\n  win.trakless = trakless;\n\n  module.exports = trakless;\n\n}).call(this);\n\n}, {\"./tracker.coffee\":2,\"./myutil.coffee\":3,\"xstore\":4}],\n2: [function(require, module, exports) {\n(function() {\n  var $defaults, $sessionid, Emitter, cookie, defaults, getImage, initStorage, myutil, query, trackIt, tracker, uuid, webanalyser;\n\n  defaults = require('defaults');\n\n  cookie = require('cookie');\n\n  Emitter = require('emitter');\n\n  query = require('querystring');\n\n  uuid = require('uuid');\n\n  webanalyser = require('webanalyser');\n\n  myutil = require('./myutil.coffee');\n\n  $defaults = null;\n\n  $sessionid = cookie('trakless:usid');\n\n  if ($sessionid == null) {\n    $sessionid = new Date().getTime();\n    cookie('tls:usid', $sessionid, {\n      path: '/'\n    });\n  }\n\n\n  /**\n   * Send image request to server using GET.\n   * The infamous web bug (or beacon) is a transparent, single pixel (1x1) image\n  #\n   */\n\n  getImage = function(cfgUrl, request, callback) {\n    var image;\n    image = new Image(1, 1);\n    image.onload = function() {\n      var iterator;\n      iterator = 0;\n      if (typeof callback === 'function') {\n        callback();\n      }\n    };\n    image.src = cfgUrl + (cfgUrl.indexOf('?') < 0 ? '?' : '&') + request;\n    return image;\n  };\n\n  initStorage = (function(_this) {\n    return function(pixel) {};\n  })(this);\n\n  trackIt = (function(_this) {\n    return function(myData) {};\n  })(this);\n\n\n  /**\n   * tracker class\n  #\n   */\n\n  tracker = (function() {\n    function tracker() {}\n\n    tracker.prototype.defaults = webanalyser.getResult();\n\n    tracker.prototype.pixel = '/pixel.gif';\n\n    tracker.prototype.siteid = 0;\n\n    tracker.prototype.store = null;\n\n    tracker.prototype.uuid = null;\n\n    tracker.prototype._trackit = function(myData, pixel) {\n      var self;\n      self = this;\n      myData.uuid = self.uuid;\n      myData.siteid = self.siteid;\n      myData.usid = $sessionid;\n      getImage(pixel, query.stringify(myData));\n      self.emit('track', myData.ht, myData);\n      return self;\n    };\n\n    tracker.prototype._track = function(ht, extra) {\n      var data, i, k, len, myData, myDef, pixel, self, v;\n      self = this;\n      if (extra == null) {\n        extra = {};\n      }\n      if (self.siteid > 0) {\n        pixel = myutil.trim(this.pixel);\n        myDef = self.defaults;\n        if ((pixel.indexOf('//') === 0) && (myDef.dl.indexOf('http') !== 0)) {\n          pixel = 'http:' + pixel;\n        }\n        initStorage(pixel);\n        data = ht === 'pageview' ? defaults(extra, myDef) : extra;\n        myData = {};\n        for (v = i = 0, len = data.length; i < len; v = ++i) {\n          k = data[v];\n          if (v != null) {\n            if (!(typeof v === \"string\") || (myutil.trim(v).length > 0)) {\n              myData[k] = v;\n            }\n          }\n        }\n        myData.z = new Date().getTime();\n        myData.ht = ht;\n        if (!self.uuid) {\n          self.uuid = uuid();\n        }\n        if (self.store != null) {\n          self.store.get('trakless-uuid').then(function(id) {\n            if (!id) {\n              self.store.set('trakless-uuid', self.uuid);\n            }\n            self.uuid = id || self.uuid;\n            return self._trackit(myData, pixel);\n          });\n        } else {\n          self._trackit(myData, pixel);\n        }\n      }\n      return this;\n    };\n\n\n    /**\n     * track generic method\n    #\n     * @param {String} ht - hit types with possible values of 'pageview', 'event', 'transaction', 'item', 'social', 'exception', 'timing', 'app', 'custom'\n     * @param {Object} extra - extended data\n     * @return {Object}\n     */\n\n    tracker.prototype.track = function(ht, extra) {\n      var self;\n      self = this;\n      myutil.ready(function() {\n        return self._track(ht || 'custom', extra);\n      });\n      return this;\n    };\n\n\n    /**\n     * track pageview\n    #\n     * @param {Object} extra - extended data\n     * @return {Object}\n     */\n\n    tracker.prototype.trackPageView = function(extra) {\n      return this.track('pageview', extra);\n    };\n\n\n    /**\n     * track event\n    #\n     * @param {String} category\n     * @param {String} action\n     * @param {String} label\n     * @param {String} value - Values must be non-negative.\n     * @return {Object}\n     */\n\n    tracker.prototype.trackEvent = function(category, action, label, value) {\n      if (value && value < 0) {\n        value = null;\n      }\n      return this.track('event', {\n        ec: category || 'event',\n        ea: action,\n        el: label,\n        ev: value\n      });\n    };\n\n\n    /**\n     * track item\n    #\n     * @param {String} id - *required* [OD564]\n     * @param {Number} name - *required* [Shoe] Specifies the item name.\n     * @param {Number} price [3.50] Specifies the price for a single item / unit.\n     * @param {Number} quantity [4] Specifies the number of items purchased.\n     * @param {String} code [SKU47] Specifies the SKU or item code.\n     * @param {String} category [Blue] Specifies the category that the item belongs to.\n     * @param {String} currencycode [EUR] When present indicates the local currency for all transaction currency values. Value should be a valid ISO 4217 currency code.\n     * @return {Object}\n     */\n\n    tracker.prototype.trackItemOrTransaction = function(id, name, price, quantity, code, category, currencycode) {\n      return this.track('item', {\n        ti: id,\n        \"in\": name,\n        ip: price,\n        iq: quantity,\n        ic: code,\n        iv: category,\n        cu: currencycode\n      });\n    };\n\n\n    /**\n     * track transaction\n    #\n     * @param {String} id - *required* [OD564]\n     * @param {String} affiliation [Member] Specifies the affiliation or store name.\n     * @param {Number} revenue [15.47] Specifies the total revenue associated with the transaction. This value should include any shipping or tax costs.\n     * @param {Number} shipping [3.50] Specifies the total shipping cost of the transaction.\n     * @param {Number} tax [1.20] Specifies the total tax of the transaction.\n     * @param {Number} price [3.50] Specifies the price for a single item / unit.\n     * @param {Number} quantity [4] Specifies the number of items purchased.\n     * @param {String} code [SKU47] Specifies the SKU or item code.\n     * @param {String} category [Blue] Specifies the category that the item belongs to.\n     * @param {String} currencycode [EUR] When present indicates the local currency for all transaction currency values. Value should be a valid ISO 4217 currency code.\n     * @return {Object}\n     */\n\n    tracker.prototype.trackTransaction = function(id, affiliation, revenue, shipping, tax, name, price, quantity, code, category, currencycode) {\n      return this.track('transaction', {\n        ti: id,\n        ta: affiliation,\n        tr: revenue,\n        ts: shipping,\n        tt: tax,\n        \"in\": name,\n        ip: price,\n        iq: quantity,\n        ic: code,\n        iv: category,\n        cu: currencycode\n      });\n    };\n\n\n    /**\n     * track social\n    #\n     * @param {String} network - *required* [facebook] Specifies the social network, for example Facebook or Google Plus.\n     * @param {String} action - *required* [like] Specifies the social interaction action. For example on Google Plus when a user clicks the +1 button, the social action is 'plus'.\n     * @param {String} target - *required* [http://foo.com] Specifies the target of a social interaction. This value is typically a URL but can be any text.\n     * @return {Object}\n     */\n\n    tracker.prototype.trackSocial = function(network, action, target) {\n      return this.track('social', {\n        sn: network,\n        sa: action,\n        st: target\n      });\n    };\n\n\n    /**\n     * track exception\n    #\n     * @param {String} description - Specifies the description of an exception.\n     * @param {String} isFatal - true/false Specifies whether the exception was fatal.\n     * @return {Object}\n     */\n\n    tracker.prototype.trackException = function(description, isFatal) {\n      return this.track('exception', {\n        exf: isFatal ? 1 : 0,\n        exd: description\n      });\n    };\n\n\n    /**\n     * track app\n    #\n     * @param {String} name - *required* [MyApp] Specifies the application name.\n     * @param {String} id - *required* [com.company.app] Application identifier.\n     * @param {String} version - *required* [1.2] Specifies the application version.\n     * @param {String} installerid - *required* com.platform.vending\n     * @return {Object}\n     */\n\n    tracker.prototype.trackApp = function(name, id, version, installerid) {\n      return this.track('app', {\n        an: name,\n        aid: id,\n        av: version,\n        aiid: installer\n      });\n    };\n\n\n    /**\n     * track custom\n    #\n     * @param {Object} customDataObject - object with any property you want\n     * @return {Object}\n     */\n\n    tracker.prototype.trackCustom = function(customDataObject) {\n      return this.track('custom', customDataObject);\n    };\n\n    return tracker;\n\n  })();\n\n  Emitter(tracker.prototype);\n\n  module.exports = tracker;\n\n}).call(this);\n\n}, {\"defaults\":5,\"cookie\":6,\"emitter\":7,\"querystring\":8,\"uuid\":9,\"webanalyser\":10,\"./myutil.coffee\":3}],\n5: [function(require, module, exports) {\n'use strict';\n\n/**\n * Merge default values.\n *\n * @param {Object} dest\n * @param {Object} defaults\n * @return {Object}\n * @api public\n */\nvar defaults = function (dest, src, recursive) {\n  for (var prop in src) {\n    if (recursive && dest[prop] instanceof Object && src[prop] instanceof Object) {\n      dest[prop] = defaults(dest[prop], src[prop], true);\n    } else if (! (prop in dest)) {\n      dest[prop] = src[prop];\n    }\n  }\n\n  return dest;\n};\n\n/**\n * Expose `defaults`.\n */\nmodule.exports = defaults;\n\n}, {}],\n6: [function(require, module, exports) {\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  return parse(document.cookie);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n\n}, {\"debug\":11}],\n11: [function(require, module, exports) {\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Use chrome.storage.local if we are in an app\n */\n\nvar storage;\n\nif (typeof chrome !== 'undefined' && typeof chrome.storage !== 'undefined')\n  storage = chrome.storage.local;\nelse\n  storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      storage.removeItem('debug');\n    } else {\n      storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}, {\"./debug\":12}],\n12: [function(require, module, exports) {\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n}, {\"ms\":13}],\n13: [function(require, module, exports) {\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n}, {}],\n7: [function(require, module, exports) {\n\n/**\n * Module dependencies.\n */\n\nvar index = require('indexof');\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  fn._off = on;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var i = index(callbacks, fn._off || fn);\n  if (~i) callbacks.splice(i, 1);\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n}, {\"indexof\":14}],\n14: [function(require, module, exports) {\nmodule.exports = function(arr, obj){\n  if (arr.indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n}, {}],\n8: [function(require, module, exports) {\n\n/**\n * Module dependencies.\n */\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\nvar trim = require('trim');\nvar type = require('type');\n\n/**\n * Parse the given query `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(str){\n  if ('string' != typeof str) return {};\n\n  str = trim(str);\n  if ('' == str) return {};\n  if ('?' == str.charAt(0)) str = str.slice(1);\n\n  var obj = {};\n  var pairs = str.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var parts = pairs[i].split('=');\n    var key = decode(parts[0]);\n    var m;\n\n    if (m = /(\\w+)\\[(\\d+)\\]/.exec(key)) {\n      obj[m[1]] = obj[m[1]] || [];\n      obj[m[1]][m[2]] = decode(parts[1]);\n      continue;\n    }\n\n    obj[parts[0]] = null == parts[1]\n      ? ''\n      : decode(parts[1]);\n  }\n\n  return obj;\n};\n\n/**\n * Stringify the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api public\n */\n\nexports.stringify = function(obj){\n  if (!obj) return '';\n  var pairs = [];\n\n  for (var key in obj) {\n    var value = obj[key];\n\n    if ('array' == type(value)) {\n      for (var i = 0; i < value.length; ++i) {\n        pairs.push(encode(key + '[' + i + ']') + '=' + encode(value[i]));\n      }\n      continue;\n    }\n\n    pairs.push(encode(key) + '=' + encode(obj[key]));\n  }\n\n  return pairs.join('&');\n};\n\n}, {\"trim\":15,\"type\":16}],\n15: [function(require, module, exports) {\n\nexports = module.exports = trim;\n\nfunction trim(str){\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  if (str.trimLeft) return str.trimLeft();\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  if (str.trimRight) return str.trimRight();\n  return str.replace(/\\s*$/, '');\n};\n\n}, {}],\n16: [function(require, module, exports) {\n/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val)\n\n  return typeof val;\n};\n\n}, {}],\n9: [function(require, module, exports) {\n\n/**\n * Taken straight from jed's gist: https://gist.github.com/982883\n *\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n */\n\nmodule.exports = function uuid(a){\n  return a           // if the placeholder was passed, return\n    ? (              // a random number from 0 to 15\n      a ^            // unless b is 8,\n      Math.random()  // in which case\n      * 16           // a random number from\n      >> a/4         // 8 to 11\n      ).toString(16) // in hexadecimal\n    : (              // or otherwise a concatenated string:\n      [1e7] +        // 10000000 +\n      -1e3 +         // -1000 +\n      -4e3 +         // -4000 +\n      -8e3 +         // -80000000 +\n      -1e11          // -100000000000,\n      ).replace(     // replacing\n        /[018]/g,    // zeroes, ones, and eights with\n        uuid         // random hex digits\n      )\n};\n}, {}],\n10: [function(require, module, exports) {\n// Generated by CoffeeScript 1.9.2\n(function(document, navigator, screen, location) {\n  'use strict';\n  var $defaults, $endTime, $onLoadHandlers, $startTime, $timeoutId, defaults, flashdetect, result, webanalyser;\n  defaults = require('defaults');\n  flashdetect = require('flashdetect');\n  $startTime = new Date().getTime();\n  $endTime = new Date().getTime();\n  $timeoutId = null;\n  $onLoadHandlers = [];\n  $defaults = {\n    sr: screen.width + \"x\" + screen.height,\n    vp: screen.availWidth + \"x\" + screen.availHeight,\n    sd: screen.colorDepth,\n    je: navigator.javaEnabled ? navigator.javaEnabled() : false,\n    ul: navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage || navigator.browserLanguage\n  };\n\n  /**\n   * webanalyser\n   */\n  webanalyser = (function() {\n    function webanalyser() {}\n\n    webanalyser.prototype.getResult = function() {\n      var rst;\n      if (defaults.dl == null) {\n        rst = {\n          dr: document.referrer,\n          dl: location.href,\n          dh: location.hostname,\n          dt: document.title,\n          z: new Date().getTime()\n        };\n        if (flashdetect.installed) {\n          rst.fl = flashdetect.major + \" \" + flashdetect.minor + \" \" + flashdetect.revisionStr;\n        }\n        $defaults = defaults(rst, $defaults);\n      }\n      return $defaults;\n    };\n\n    return webanalyser;\n\n  })();\n  result = new webanalyser();\n  return module.exports = result;\n})(document, navigator, screen, location);\n\n}, {\"defaults\":5,\"flashdetect\":17}],\n17: [function(require, module, exports) {\n/*\nCopyright (c) Copyright (c) 2007, Carl S. Yestrau All rights reserved.\nCode licensed under the BSD License: http://www.featureblend.com/license.txt\nVersion: 1.0.4\n*/\nvar flashdetect = new function(){\n    var self = this;\n    self.installed = false;\n    self.raw = \"\";\n    self.major = -1;\n    self.minor = -1;\n    self.revision = -1;\n    self.revisionStr = \"\";\n    var activeXDetectRules = [\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash.7\",\n            \"version\":function(obj){\n                return getActiveXVersion(obj);\n            }\n        },\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash.6\",\n            \"version\":function(obj){\n                var version = \"6,0,21\";\n                try{\n                    obj.AllowScriptAccess = \"always\";\n                    version = getActiveXVersion(obj);\n                }catch(err){}\n                return version;\n            }\n        },\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash\",\n            \"version\":function(obj){\n                return getActiveXVersion(obj);\n            }\n        }\n    ];\n    /**\n     * Extract the ActiveX version of the plugin.\n     * \n     * @param {Object} The flash ActiveX object.\n     * @type String\n     */\n    var getActiveXVersion = function(activeXObj){\n        var version = -1;\n        try{\n            version = activeXObj.GetVariable(\"$version\");\n        }catch(err){}\n        return version;\n    };\n    /**\n     * Try and retrieve an ActiveX object having a specified name.\n     * \n     * @param {String} name The ActiveX object name lookup.\n     * @return One of ActiveX object or a simple object having an attribute of activeXError with a value of true.\n     * @type Object\n     */\n    var getActiveXObject = function(name){\n        var obj = -1;\n        try{\n            obj = new ActiveXObject(name);\n        }catch(err){\n            obj = {activeXError:true};\n        }\n        return obj;\n    };\n    /**\n     * Parse an ActiveX $version string into an object.\n     * \n     * @param {String} str The ActiveX Object GetVariable($version) return value. \n     * @return An object having raw, major, minor, revision and revisionStr attributes.\n     * @type Object\n     */\n    var parseActiveXVersion = function(str){\n        var versionArray = str.split(\",\");//replace with regex\n        return {\n            \"raw\":str,\n            \"major\":parseInt(versionArray[0].split(\" \")[1], 10),\n            \"minor\":parseInt(versionArray[1], 10),\n            \"revision\":parseInt(versionArray[2], 10),\n            \"revisionStr\":versionArray[2]\n        };\n    };\n    /**\n     * Parse a standard enabledPlugin.description into an object.\n     * \n     * @param {String} str The enabledPlugin.description value.\n     * @return An object having raw, major, minor, revision and revisionStr attributes.\n     * @type Object\n     */\n    var parseStandardVersion = function(str){\n        var descParts = str.split(/ +/);\n        var majorMinor = descParts[2].split(/\\./);\n        var revisionStr = descParts[3];\n        return {\n            \"raw\":str,\n            \"major\":parseInt(majorMinor[0], 10),\n            \"minor\":parseInt(majorMinor[1], 10), \n            \"revisionStr\":revisionStr,\n            \"revision\":parseRevisionStrToInt(revisionStr)\n        };\n    };\n    /**\n     * Parse the plugin revision string into an integer.\n     * \n     * @param {String} The revision in string format.\n     * @type Number\n     */\n    var parseRevisionStrToInt = function(str){\n        return parseInt(str.replace(/[a-zA-Z]/g, \"\"), 10) || self.revision;\n    };\n    /**\n     * Is the major version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required major version.\n     * @type Boolean\n     */\n    self.majorAtLeast = function(version){\n        return self.major >= version;\n    };\n    /**\n     * Is the minor version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required minor version.\n     * @type Boolean\n     */\n    self.minorAtLeast = function(version){\n        return self.minor >= version;\n    };\n    /**\n     * Is the revision version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required revision version.\n     * @type Boolean\n     */\n    self.revisionAtLeast = function(version){\n        return self.revision >= version;\n    };\n    /**\n     * Is the version greater than or equal to a specified major, minor and revision.\n     * \n     * @param {Number} major The minimum required major version.\n     * @param {Number} (Optional) minor The minimum required minor version.\n     * @param {Number} (Optional) revision The minimum required revision version.\n     * @type Boolean\n     */\n    self.versionAtLeast = function(major){\n        var properties = [self.major, self.minor, self.revision];\n        var len = Math.min(properties.length, arguments.length);\n        for(i=0; i<len; i++){\n            if(properties[i]>=arguments[i]){\n                if(i+1<len && properties[i]==arguments[i]){\n                    continue;\n                }else{\n                    return true;\n                }\n            }else{\n                return false;\n            }\n        }\n    };\n    /**\n     * Constructor, sets raw, major, minor, revisionStr, revision and installed public properties.\n     */\n    self.flashdetect = function(){\n        if(navigator.plugins && navigator.plugins.length>0){\n            var type = 'application/x-shockwave-flash';\n            var mimeTypes = navigator.mimeTypes;\n            if(mimeTypes && mimeTypes[type] && mimeTypes[type].enabledPlugin && mimeTypes[type].enabledPlugin.description){\n                var version = mimeTypes[type].enabledPlugin.description;\n                var versionObj = parseStandardVersion(version);\n                self.raw = versionObj.raw;\n                self.major = versionObj.major;\n                self.minor = versionObj.minor; \n                self.revisionStr = versionObj.revisionStr;\n                self.revision = versionObj.revision;\n                self.installed = true;\n            }\n        }else if(navigator.appVersion.indexOf(\"Mac\")==-1 && window.execScript){\n            var version = -1;\n            for(var i=0; i<activeXDetectRules.length && version==-1; i++){\n                var obj = getActiveXObject(activeXDetectRules[i].name);\n                if(!obj.activeXError){\n                    self.installed = true;\n                    version = activeXDetectRules[i].version(obj);\n                    if(version!=-1){\n                        var versionObj = parseActiveXVersion(version);\n                        self.raw = versionObj.raw;\n                        self.major = versionObj.major;\n                        self.minor = versionObj.minor; \n                        self.revision = versionObj.revision;\n                        self.revisionStr = versionObj.revisionStr;\n                    }\n                }\n            }\n        }\n    }();\n};\nflashdetect.JS_RELEASE = \"1.0.4\";\n\nmodule.exports = flashdetect;\n\n}, {}],\n3: [function(require, module, exports) {\n(function() {\n  (function(win) {\n    var cookie, doc, domevent, myutil;\n    domevent = require('domevent');\n    cookie = require('cookie');\n    doc = win.document;\n\n    /**\n     *  util\n     */\n    myutil = (function() {\n      function myutil() {}\n\n      myutil.trakless2 = null;\n\n\n      /**\n       * allow for getting all attributes\n      #\n       * @param {HTMLElement} el - element\n       * @return {Object}\n       */\n\n      myutil.allData = function(el) {\n        var attr, camelCaseName, data, i, k, len, name, ref;\n        data = {};\n        ref = el.attributes;\n        for (k = i = 0, len = ref.length; i < len; k = ++i) {\n          attr = ref[k];\n          name = attr.name.replace(/^data-/g, '');\n          camelCaseName = name.replace(/-(.)/g, function($0, $1) {\n            return $1.toUpperCase();\n          });\n          data[camelCaseName] = attr.value;\n        }\n        return data;\n      };\n\n\n      /**\n       * mini jquery\n      #\n       */\n\n      myutil.$ = domevent;\n\n\n      /**\n       * attach to event\n      #\n       * @param {String} ename - event name\n       * @param {Function} cb - callback\n       * @return {Object}\n       */\n\n      myutil.on = function(ename, cb) {\n        domevent(doc).on(ename, cb);\n        return this;\n      };\n\n\n      /**\n       * detach event\n      #\n       * @param {String} ename - event name\n       * @param {Function} cb - callback\n       * @return {Object}\n       */\n\n      myutil.off = function(ename, cb) {\n        domevent(doc).off(ename, cb);\n        return this;\n      };\n\n\n      /**\n       * trigger event\n      #\n       * @param {String} ename - event name\n       * @param {Object} edata - event data\n       * @return {Object}\n       */\n\n      myutil.trigger = function(ename, edata) {\n        if (this.trakless2 && this.trakless2.util) {\n          this.trakless2.util.$.trigger({\n            type: ename,\n            detail: edata\n          });\n        }\n        return this;\n      };\n\n\n      /**\n       * parse a string to JSON, return string if fail\n      #\n       * @param {String} v - string value\n       * @return {Object}\n       */\n\n      myutil.stringToJSON = function(v) {\n        var v2;\n        if (typeof v === \"string\") {\n          v2 = domevent.parseJSON(v);\n          if (!(v2 == null)) {\n            return v2;\n          }\n        }\n        return v;\n      };\n\n\n      /**\n       * get or set session data - store in cookie\n       * if no value is provided, then it is a get\n      #\n       * @param {String} k - key\n       * @param {Object} v - value\n       * @return {Object}\n       */\n\n      myutil.session = function(k, v) {\n        if ((v != null)) {\n          if (!(typeof v === \"string\")) {\n            v = domevent.toJSON(v);\n          }\n          cookie('tls:' + k, v, {\n            path: '/'\n          });\n          return v;\n        }\n        v = cookie('tls:' + k);\n        if (typeof v === 'undefined') {\n          return v;\n        }\n        return myutil.stringToJSON(v);\n      };\n\n\n      /**\n       * click listener - useful util for click tracking\n      #\n       * @param {String} el - element or parent\n       * @param {Function} handler - function handler\n       * @param {String} monitor - selector/query of child to monitor\n       * @return {Object}\n       */\n\n      myutil.onClick = function(el, handler, monitor) {\n        domevent(el).on('click', handler, monitor);\n        return this;\n      };\n\n\n      /**\n       * document ready\n      #\n       */\n\n      myutil.ready = domevent.ready;\n\n\n      /**\n       * trim\n      #\n       */\n\n      myutil.trim = function(v) {\n        return v.replace(/^\\s+|\\s+$/gm, '');\n      };\n\n\n      /**\n       * set a class\n      #\n       */\n\n      myutil.setClass = function(el, cls) {\n        return domevent(el).set('$', cls);\n      };\n\n      return myutil;\n\n    })();\n    return module.exports = myutil;\n  })(window);\n\n}).call(this);\n\n}, {\"domevent\":18,\"cookie\":6}],\n18: [function(require, module, exports) {\nmyObj = null\nmydefine = function(h, F){\n\tmyObj = F().$;\n};\n// minified.js config start -- use this comment to re-create a configuration in the Builder\n// - Only sections always, each, error, fill, get, ie6compatibility, \n// - ie7compatibility, ie8compatibility, ie9compatibility, off, on, onclick, parsejson, \n// - promise, ready, request, set, tojson, trigger, values, wait.\n\n\nmydefine(\"minified\",function(){function E(a){return a!=g?\"\"+a:\"\"}function A(a){return\"string\"==typeof a}function B(a){return a&&a.nodeType}function F(a){return a}function m(a,b,c){return E(a).replace(b,c!=g?c:\"\")}function C(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c||a,d,a[d]);return a}function r(a,b,c){if(a)for(var d=0;d<a.length;d++)b.call(c||a,a[d],d);return a}function P(a,b){var c=[],d=n(b)?b:function(a){return b!=a};r(a,function(b,f){d.call(a,b,f)&&c.push(b)});return c}function x(a,b,\nc){var d=[];a(b,function(a,f){t(a=c.call(b,a,f))?r(a,function(a){d.push(a)}):a!=g&&d.push(a)});return d}function G(a,b){var c=[];r(a,function(d,e){c.push(b.call(a,d,e))});return c}function K(a,b){var c=b||{},d;for(d in a)c[d]=a[d]}function L(a,b,c){if(n(a))return a.apply(c&&b,G(c||b,F))}function Q(a){G(a,function(a){return L(a,void 0,void 0)})}function R(a){return\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)}function n(a){return\"function\"==typeof a&&!a.item}function t(a){return a&&a.length!=\ng&&!A(a)&&!B(a)&&!n(a)&&a!==p}function S(a,b){for(var c=0;a&&c<a.length;c++)a[c]===b&&a.splice(c--,1)}function H(a){return a.Nia=a.Nia||++Z}function T(a,b){var c=[],d={},e;l(a,function(a){l(b(a),function(a){d[e=H(a)]||(c.push(a),d[e]=!0)})});return c}function aa(a,b,c,d,e,f){return function(h,k){var g,u=h||p.event,U=!f,y=k||u.target||u.srcElement;if(f)for(;y&&y!=b&&!(U=f(y));)y=y.parentNode;U&&(g=(!a.apply(q(f?y:b),c||[u,d])||\"\"==e)&&\"|\"!=e)&&!k&&(u.preventDefault&&(u.preventDefault(),u.stopPropagation()),\nu.cancelBubble=!0);return!g}}function M(a,b){l(b,function(a){a.element.detachEvent(\"on\"+a.a,a.b)})}function V(a){D?D.push(a):setTimeout(a,0)}function W(a){return x(l,a,function(a){if(t(a))return W(a);B(a)&&(a=a.cloneNode(!0),a.removeAttribute&&a.removeAttribute(\"id\"));return a})}function q(a,b,c){return n(a)?V(a):new I(z(a,b,c))}function z(a,b,c){function d(a){a=x(l,a,function y(a){return t(a)?x(l,a,y):a});return f?P(a,function(a){for(;a=a.parentNode;)if(a==f||c)return a==f}):a}function e(a,b){var c=\nRegExp(\"(^|\\\\s+)\"+a+\"(?=$|\\\\s)\",\"i\");return function(d){return a?c.test(d[b]):!0}}var f,h,k,g;if(b&&1!=(b=z(b)).length)return T(b,function(b){return z(a,b,c)});f=b&&b[0];if(!A(a))return d(a);if(f&&1!=B(f))return[];if(1<(b=a.split(/\\s*,\\s*/)).length)return T(b,function(a){return z(a,f,c)});if(b=/(\\S+)\\s+(.+)$/.exec(a))return z(b[2],z(b[1],f),c);if(a!=(b=m(a,/^#/)))return d(document.getElementById(b));h=(b=/([\\w-]*)\\.?([\\w-]*)/.exec(a))[1];g=b[2];b=(k=document.getElementsByClassName&&g)?(f||document).getElementsByClassName(g):\n(f||document).getElementsByTagName(h||\"*\");if(h=k?h:g)b=P(b,e(h,k?\"tagName\":\"className\"));return c?d(b):b}function ba(a,b){function c(a,b){var c=RegExp(\"(^|\\\\s+)\"+a+\"(?=$|\\\\s)\",\"i\");return function(d){return a?c.test(d[b]):!0}}var d={},e=d;if(n(a))return a;if(\"number\"==typeof a)return function(b,c){return c==a};if(!a||\"*\"==a||A(a)&&(e=/^([\\w-]*)\\.?([\\w-]*)$/.exec(a))){var f=c(e[1],\"tagName\"),h=c(e[2],\"className\");return function(a){return 1==B(a)&&f(a)&&h(a)}}if(b)return function(c){return q(a,b).find(c)!=\ng};q(a).each(function(a){d[H(a)]=!0});return function(a){return d[H(a)]}}function l(a,b){t(a)?r(a,b):a!=g&&b(a,0);return a}function J(){function a(a,d){b==g&&a!=g&&(b=a,h=t(d)?d:[d],setTimeout(function(){r(c,function(a){a()})},0));return b}var b,c=[],d=arguments,e=d.length,f=0,h=[];r(d,function u(b,c){try{b.then?b.then(function(b){var d;(b&&\"object\"==typeof b||n(b))&&n(d=b.then)?u(d,c):(h[c]=G(arguments,F),++f==e&&a(!0,2>e?h[c]:h))},function(b){h[c]=G(arguments,F);a(!1,2>e?h[c]:[h[c][0],h,c])}):b(function(){a(!0,\narguments)},function(){a(!1,arguments)})}catch(d){a(!1,[d,h,c])}});a.stop=function(){r(d,function(a){a.stop&&a.stop()});return L(a.stop0)};var k=a.then=function(d,e){function f(){try{var a=b?d:e;n(a)?function ca(a){try{var b,c=0;if((a&&\"object\"==typeof a||n(a))&&n(b=a.then)){if(a===k)throw new TypeError;b.call(a,function(a){c++||ca(a)},function(a){c++||k(!1,[a])});k.stop0=a.stop}else k(!0,[a])}catch(d){c++||k(!1,[d])}}(L(a,X,h)):k(b,h)}catch(c){k(!1,[c])}}var k=J();k.stop0=a.stop;b!=g?setTimeout(f,\n0):c.push(f);return k};a.always=function(a){return k(a,a)};a.error=function(a){return k(0,a)};return a}function I(a,b){var c=0;if(a)for(var d=0,e=a.length;d<e;d++){var f=a[d];if(b&&t(f))for(var h=0,k=f.length;h<k;h++)this[c++]=f[h];else this[c++]=f}else this[c++]=b;this.length=c;this._=!0}var p=this,N={},O={},Z=1,v={},D=/^[ic]/.test(document.readyState)?g:[],w=!!document.all&&!document.addEventListener,g=null,X;K({each:function(a){return function(b,c,d){return a(this,b,c,d)}}(r),f:0,remove:function(){l(this,\nfunction(a){w&&1==B(a)&&(l(z(\"*\",a),function(a){M(0,v[a.Nia]);delete v[a.Nia]}),M(0,v[a.Nia]),delete v[a.Nia]);a.parentNode.removeChild(a)})},get:function(a,b){var c=this,d=c[0];if(d){if(A(a)){var e=/^(\\W*)(.*)/.exec(m(a,/^%/,\"@data-\")),f=e[1],d=O[f]?O[f](this,e[2]):\"$\"==a?c.get(\"className\"):\"$$\"==a?w?d.style.cssText:c.get(\"@style\"):\"$$slide\"==a?c.get(\"$height\"):\"$$fade\"==a||\"$$show\"==a?\"hidden\"==c.get(\"$visibility\")||\"none\"==c.get(\"$display\")?0:\"$$fade\"==a?w?isNaN(c.get(\"$filter\",!0))?1:c.get(\"$filter\",\n!0)/100:isNaN(c.get(\"$opacity\",!0))?1:c.get(\"$opacity\",!0):1:\"$$scrollX\"==a?p.pageXOffset!=g?p.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft:\"$$scrollY\"==a?p.pageXOffset!=g?p.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop:\"$\"==f?p.getComputedStyle?p.getComputedStyle(d,g).getPropertyValue(m(e[2],/[A-Z]/g,function(a){return\"-\"+a.toLowerCase()})):(d.currentStyle||d.style)[m(e[2],/^float$/,\"cssFloat\")]:\"@\"==f?d.getAttribute(e[2]):\nd[e[2]];return b?parseFloat(m(d,/^[^\\d-]+/)):d}var h={};(t(a)?l:C)(a,function(a){h[a]=c.get(a,b)});return h}},set:function(a,b){var c=this;if(b!==X){var d=/^(\\W*)(.*)/.exec(m(m(a,/^\\$float$/,\"cssFloat\"),/^%/,\"@data-\")),e=d[1];if(N[e])N[e](this,d[2],b);else\"$$fade\"==a?c.set({$visibility:b?\"visible\":\"hidden\"}).set(w?1>b?{$filter:\"alpha(opacity = \"+100*b+\")\",$zoom:1}:{$filter:\"\"}:{$opacity:b}):\"$$slide\"==a?c.set({$visibility:b?\"visible\":\"hidden\",$overflow:\"hidden\",$height:/px/.test(b)?b:function(a,c,\nd){a=q(d);d={$position:\"absolute\",$visibility:\"hidden\",$display:\"block\",$height:g};c=a.get(d);d=a.set(d).get(\"clientHeight\");a.set(c);return d*b+\"px\"}}):\"$$show\"==a?b?c.set({$visibility:b?\"visible\":\"hidden\",$display:\"\"}).set({$display:function(a){return\"none\"==a?\"block\":a}}):c.set({$display:\"none\"}):\"$$\"==a?w?c.set(\"$cssText\",b):c.set(\"@style\",b):l(this,function(c,h){var k=n(b)?b(q(c).get(a),h,c):b;\"$\"==e?d[2]?c.style[d[2]]=k:l(k&&k.split(/\\s+/),function(a){var b=m(a,/^[+-]/),d=c.className||\"\",e=\nm(d,RegExp(\"(^|\\\\s+)\"+b+\"(?=$|\\\\s)\"));if(/^\\+/.test(a)||b==a&&d==e)e+=\" \"+b;c.className=m(e,/^\\s+|\\s+$/g)}):\"$$scrollX\"==a?c.scroll(k,q(c).get(\"$$scrollY\")):\"$$scrollY\"==a?c.scroll(q(c).get(\"$$scrollX\"),k):\"@\"==e?k==g?c.removeAttribute(d[2]):c.setAttribute(d[2],k):c[d[2]]=k})}else A(a)||n(a)?c.set(\"$\",a):C(a,function(a,b){c.set(a,b)});return c},add:function(a,b){return this.each(function(c,d){function e(a){t(a)?l(a,e):n(a)?e(a(c,d)):a!=g&&(a=B(a)?a:document.createTextNode(a),f?f.parentNode.insertBefore(a,\nf.nextSibling):b?b(a,c,c.parentNode):c.appendChild(a),f=a)}var f;e(d&&!n(a)?W(a):a)})},fill:function(a){return this.each(function(a){q(a.childNodes).remove()}).add(a)},values:function(a){var b=a||{};this.each(function(a){var d=a.name||a.id,e=E(a.value);if(/form/i.test(a.tagName))for(d=0;d<a.elements.length;d++)q(a.elements[d]).values(b);else!d||/ox|io/i.test(a.type)&&!a.checked||(b[d]=b[d]==g?e:x(l,[b[d],e],F))});return b},on:function(a,b,c,d,e){return n(b)?this.on(g,a,b,c,e):A(d)?this.on(a,b,c,g,\nd):this.each(function(f,h){l(a?z(a,f):f,function(a){l(E(b).split(/\\s/),function(b){var f=m(b,/[?|]/),g=!!e&&(\"blur\"==f||\"focus\"==f),l=aa(c,a,d,h,m(b,/[^?|]/g),e&&ba(e,a));b={element:a,b:l,a:f,c:g};(c.M=c.M||[]).push(b);w?(a.attachEvent(\"on\"+b.a+(g?\"in\":\"\"),l),f=H(a),(v[f]=v[f]||[]).push(b)):(a.addEventListener(f,l,g),(a.M=a.M||[]).push(b))})})})},onClick:function(a,b,c,d){return n(b)?this.on(a,\"click\",b,c,d):this.onClick(g,a,b,c)},trigger:function(a,b){return this.each(function(c){for(var d,e=c;e&&\n!d;)l(w?v[e.Nia]:e.M,function(e){e.a==a&&(d=d||!e.b(b,c))}),e=e.parentNode})},e:0},I.prototype);K({request:function(a,b,c,d){d=d||{};var e,f=0,h=J(),k=c&&c.constructor==d.constructor;try{h.xhr=e=p.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"),h.stop0=function(){e.abort()},k&&(c=x(C,c,function(a,b){return x(l,b,function(b){return encodeURIComponent(a)+(b!=g?\"=\"+encodeURIComponent(b):\"\")})}).join(\"&\")),c==g||/post/i.test(a)||(b+=\"?\"+c,c=g),e.open(a,b,!0,d.user,d.pass),k&&\n/post/i.test(a)&&e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),C(d.headers,function(a,b){e.setRequestHeader(a,b)}),C(d.xhr,function(a,b){e[a]=b}),e.onreadystatechange=function(){4!=e.readyState||f++||(200==e.status?h(!0,[e.responseText,e]):h(!1,[e.status,e.responseText,e]))},e.send(c)}catch(m){f||h(!1,[0,g,E(m)])}return h},toJSON:function b(c){return c==g?\"\"+c:A(c=c.valueOf())?'\"'+m(c,/[\\\\\\\"\\x00-\\x1f\\u2028\\u2029]/g,R)+'\"':t(c)?\"[\"+x(l,c,b).join()+\"]\":c&&\"object\"==typeof c?\n\"{\"+x(C,c,function(c,e){return b(c)+\":\"+b(e)}).join()+\"}\":E(c)},parseJSON:p.JSON?p.JSON.parse:function(b){b=m(b,/[\\x00\\xad\\u0600-\\uffff]/g,R);if(/^[[\\],:{}\\s]*$/.test(m(m(b,/\\\\[\"\\\\\\/bfnrtu]/g),/\"[^\"\\\\\\n\\r]*\"|true|false|null|[\\d.eE+-]+/g)))return eval(\"(\"+b+\")\")},ready:V,off:function(b){l(b.M,function(b){w?(b.element.detachEvent(\"on\"+b.a+(b.c?\"in\":\"\"),b.b),S(v[b.element.Nia],b)):(b.element.removeEventListener(b.a,b.b,b.c),S(b.element.M,b))});b.M=g},wait:function(b,c){var d=J(),e=setTimeout(function(){d(!0,\nc)},b);d.stop0=function(){d(!1);clearTimeout(e)};return d}},q);K({each:r,toObject:function(b,c){var d={};r(b,function(b){d[b]=c});return d},d:0,promise:J},function(){return new I(arguments,!0)});if(w){var Y=function(){Q(D);D=g};document.attachEvent(\"onreadystatechange\",function(){/^[ic]/.test(document.readyState)&&Y()});p.attachEvent(\"onload\",Y)}else document.addEventListener(\"DOMContentLoaded\",function(){Q(D);D=g},!1);p.g=function(){l(v,M)};return{$:q,M:I,getter:O,setter:N}});\n\nmodule.exports = myObj;\n}, {}],\n4: [function(require, module, exports) {\n// Generated by CoffeeScript 1.9.2\n(function(win) {\n  var Queue, cacheBust, deferredObject, delay, dnt, doPostMessage, doc, handleMessageEvent, hash, iframe, load, lstore, mydeferred, myproxy, onMessage, proxyPage, proxyWin, q, randomHash, store, usePostMessage, xstore;\n  doc = win.document;\n  load = require('load-iframe');\n  Queue = require('queue');\n  store = require('store.js');\n  proxyPage = 'http://niiknow.github.io/xstore/xstore.html';\n  deferredObject = {};\n  iframe = void 0;\n  proxyWin = void 0;\n  usePostMessage = win.postMessage != null;\n  cacheBust = 0;\n  hash = void 0;\n  delay = 333;\n  lstore = {};\n  q = new Queue({\n    concurrency: 1,\n    timeout: delay + 5\n  });\n  dnt = win.navigator.doNotTrack || navigator.msDoNotTrack || win.doNotTrack;\n  onMessage = function(fn) {\n    if (win.addEventListener) {\n      return win.addEventListener(\"message\", fn, false);\n    } else {\n      return win.attachEvent(\"onmessage\", fn);\n    }\n  };\n\n  /**\n   * defer/promise class\n  #\n   */\n  mydeferred = (function() {\n    var i, k, len, ref, v;\n\n    function mydeferred() {}\n\n    mydeferred.prototype.q = function(event, item) {\n      var d, deferredHash, self;\n      self = this;\n      self.mycallbacks = [];\n      self.myerrorbacks = [];\n      deferredHash = randomHash();\n      d = [0, deferredHash, event, item.k, item.v];\n      deferredObject[deferredHash] = self;\n      if (usePostMessage) {\n        doPostMessage(JSON.stringify(d));\n      } else {\n        if (iframe !== null) {\n          cacheBust += 1;\n          d[0] = +(new Date) + cacheBust;\n          hash = '#' + JSON.stringify(d);\n          if (iframe.src) {\n            iframe.src = \"\" + proxyPage + hash;\n          } else if ((iframe.contentWindow != null) && (iframe.contentWindow.location != null)) {\n            iframe.contentWindow.location = \"\" + proxyPage + hash;\n          } else {\n            iframe.setAttribute('src', \"\" + proxyPage + hash);\n          }\n        }\n      }\n      self.then = function(fn, fnErr) {\n        if (fnErr) {\n          self.myerrorbacks.push(fnErr);\n        }\n        self.mycallbacks.push(fn);\n        return self;\n      };\n      return self;\n    };\n\n    mydeferred.prototype.myresolve = function(data) {\n      var i, k, len, ref, self, v;\n      self = this;\n      ref = self.mycallbacks || [];\n      for (k = i = 0, len = ref.length; i < len; k = ++i) {\n        v = ref[k];\n        v(data);\n      }\n      return self;\n    };\n\n    mydeferred.prototype.myreject = function(e) {\n      var self;\n      return self = this;\n    };\n\n    ref = self.myerrorbacks || [];\n    for (k = i = 0, len = ref.length; i < len; k = ++i) {\n      v = ref[k];\n      v(data);\n    }\n\n    self;\n\n    return mydeferred;\n\n  })();\n  myproxy = (function() {\n    function myproxy() {}\n\n    myproxy.prototype.delay = 333;\n\n    myproxy.prototype.hash = win.location.hash;\n\n    myproxy.prototype.init = function() {\n      var self;\n      self = this;\n      if (usePostMessage) {\n        return onMessage(self.handleProxyMessage);\n      } else {\n        return setInterval((function() {\n          var newhash;\n          newhash = win.location.hash;\n          if (newhash !== hash) {\n            hash = newhash;\n            self.handleProxyMessage({\n              data: JSON.parse(newhash.substr(1))\n            });\n          }\n        }), self.delay);\n      }\n    };\n\n    myproxy.prototype.handleProxyMessage = function(e) {\n      var d, id, key, method, myCacheBust, self;\n      d = e.data;\n      if (typeof d === \"string\") {\n        if (/^xstore-/.test(d)) {\n          d = d.split(\",\");\n        } else {\n          try {\n            d = JSON.parse(d);\n          } catch (_error) {\n            return;\n          }\n        }\n      }\n      if (!(d instanceof Array)) {\n        return;\n      }\n      id = d[1];\n      if (!/^xstore-/.test(id)) {\n        return;\n      }\n      self = this;\n      key = d[3] || 'xstore';\n      method = d[2];\n      cacheBust = 0;\n      if (method === 'get') {\n        d[4] = store.get(key);\n      } else if (method === 'set') {\n        store.set(key, d[4]);\n      } else if (method === 'remove') {\n        store.remove(key);\n      } else if (method === 'clear') {\n        store.clear();\n      } else {\n        d[2] = 'error-' + method;\n      }\n      d[1] = id.replace('xstore-', 'xstoreproxy-');\n      if (usePostMessage) {\n        e.source.postMessage(JSON.stringify(d), '*');\n      } else {\n        cacheBust += 1;\n        myCacheBust = +(new Date) + cacheBust;\n        d[0] = myCacheBust;\n        hash = '#' + JSON.stringify(d);\n        win.location = win.location.href.replace(globals.location.hash, '') + hash;\n      }\n    };\n\n    return myproxy;\n\n  })();\n  randomHash = function() {\n    var rh;\n    rh = Math.random().toString(36).substr(2);\n    return \"xstore-\" + rh;\n  };\n  doPostMessage = function(msg) {\n    if ((proxyWin != null)) {\n      proxyWin.postMessage(msg, '*');\n      return;\n    }\n    return q.push(function() {\n      return doPostMessage(msg);\n    });\n  };\n  handleMessageEvent = function(e) {\n    var d, di, id;\n    d = e.data;\n    if (typeof d === \"string\") {\n      if (/^xstoreproxy-/.test(d)) {\n        d = d.split(\",\");\n      } else {\n        try {\n          d = JSON.parse(d);\n        } catch (_error) {\n          return;\n        }\n      }\n    }\n    if (!(d instanceof Array)) {\n      return;\n    }\n    id = d[1];\n    if (!/^xstoreproxy-/.test(id)) {\n      return;\n    }\n    id = id.replace('xstoreproxy-', 'xstore-');\n    di = deferredObject[id];\n    if (di) {\n      if (/^error-/.test(d[2])) {\n        di.myreject(d[2]);\n      } else {\n        di.myresolve(d[4]);\n      }\n      return delete deferredObject[id];\n    }\n  };\n\n  /**\n   * xstore class\n  #\n   */\n  xstore = (function() {\n    function xstore() {}\n\n    xstore.prototype.hasInit = false;\n\n    xstore.prototype.get = function(k) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            return fn(lstore[k]);\n          }\n        };\n      }\n      return (new mydeferred()).q('get', {\n        'k': k\n      });\n    };\n\n    xstore.prototype.set = function(k, v) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            lstore[k] = v;\n            return fn(lstore[k]);\n          }\n        };\n      }\n      return (new mydeferred()).q('set', {\n        'k': k,\n        'v': v\n      });\n    };\n\n    xstore.prototype.remove = function(k) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            delete lstore[k];\n            return fn;\n          }\n        };\n      }\n      return (new mydeferred()).q('remove', {\n        'k': k\n      });\n    };\n\n    xstore.prototype.clear = function() {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            lstore = {};\n            return fn;\n          }\n        };\n      }\n      return (new mydeferred()).q('clear');\n    };\n\n    xstore.prototype.init = function(options) {\n      var self;\n      self = this;\n      if (self.hasInit) {\n        return self;\n      }\n      self.hasInit = true;\n      options = options || {};\n      if (options.isProxy) {\n        (new myproxy()).init();\n        return;\n      }\n      proxyPage = options.url || proxyPage;\n      if (options.dntIgnore) {\n        dnt = false;\n      }\n      if (!store.enabled) {\n        dnt = true;\n      }\n      if (win.location.protocol === 'https') {\n        proxyPage = proxyPage.replace('http:', 'https:');\n      }\n      return iframe = load(proxyPage, function() {\n        iframe.setAttribute(\"id\", \"xstore\");\n        proxyWin = iframe.contentWindow;\n        if (!usePostMessage) {\n          hash = proxyWin.location.hash;\n          return setInterval((function() {\n            if (proxyWin.location.hash !== hash) {\n              hash = proxyWin.location.hash;\n              handleMessageEvent({\n                origin: proxyDomain,\n                data: hash.substr(1)\n              });\n            }\n          }), delay);\n        } else {\n          return onMessage(handleMessageEvent);\n        }\n      });\n    };\n\n    return xstore;\n\n  })();\n  win.xstore = new xstore();\n  return module.exports = win.xstore;\n})(window);\n\n}, {\"load-iframe\":19,\"queue\":20,\"store.js\":21}],\n19: [function(require, module, exports) {\n\n/**\n * Module dependencies.\n */\n\nvar onload = require('script-onload');\nvar tick = require('next-tick');\nvar type = require('type');\n\n/**\n * Expose `loadScript`.\n *\n * @param {Object} options\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function loadIframe(options, fn){\n  if (!options) throw new Error('Cant load nothing...');\n\n  // Allow for the simplest case, just passing a `src` string.\n  if ('string' == type(options)) options = { src : options };\n\n  var https = document.location.protocol === 'https:' ||\n              document.location.protocol === 'chrome-extension:';\n\n  // If you use protocol relative URLs, third-party scripts like Google\n  // Analytics break when testing with `file:` so this fixes that.\n  if (options.src && options.src.indexOf('//') === 0) {\n    options.src = https ? 'https:' + options.src : 'http:' + options.src;\n  }\n\n  // Allow them to pass in different URLs depending on the protocol.\n  if (https && options.https) options.src = options.https;\n  else if (!https && options.http) options.src = options.http;\n\n  // Make the `<iframe>` element and insert it before the first iframe on the\n  // page, which is guaranteed to exist since this Javaiframe is running.\n  var iframe = document.createElement('iframe');\n  iframe.src = options.src;\n  iframe.width = options.width || 1;\n  iframe.height = options.height || 1;\n  iframe.style.display = 'none';\n\n  // If we have a fn, attach event handlers, even in IE. Based off of\n  // the Third-Party Javascript script loading example:\n  // https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n  if ('function' == type(fn)) {\n    onload(iframe, fn);\n  }\n\n  tick(function(){\n    // Append after event listeners are attached for IE.\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(iframe, firstScript);\n  });\n\n  // Return the iframe element in case they want to do anything special, like\n  // give it an ID or attributes.\n  return iframe;\n};\n}, {\"script-onload\":22,\"next-tick\":23,\"type\":16}],\n22: [function(require, module, exports) {\n\n// https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n\n/**\n * Invoke `fn(err)` when the given `el` script loads.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function(el, fn){\n  return el.addEventListener\n    ? add(el, fn)\n    : attach(el, fn);\n};\n\n/**\n * Add event listener to `el`, `fn()`.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction add(el, fn){\n  el.addEventListener('load', function(_, e){ fn(null, e); }, false);\n  el.addEventListener('error', function(e){\n    var err = new Error('script error \"' + el.src + '\"');\n    err.event = e;\n    fn(err);\n  }, false);\n}\n\n/**\n * Attach evnet.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction attach(el, fn){\n  el.attachEvent('onreadystatechange', function(e){\n    if (!/complete|loaded/.test(el.readyState)) return;\n    fn(null, e);\n  });\n  el.attachEvent('onerror', function(e){\n    var err = new Error('failed to load the script \"' + el.src + '\"');\n    err.event = e || window.event;\n    fn(err);\n  });\n}\n\n}, {}],\n23: [function(require, module, exports) {\n\"use strict\"\n\nif (typeof setImmediate == 'function') {\n  module.exports = function(f){ setImmediate(f) }\n}\n// legacy node.js\nelse if (typeof process != 'undefined' && typeof process.nextTick == 'function') {\n  module.exports = process.nextTick\n}\n// fallback for other environments / postMessage behaves badly on IE8\nelse if (typeof window == 'undefined' || window.ActiveXObject || !window.postMessage) {\n  module.exports = function(f){ setTimeout(f) };\n} else {\n  var q = [];\n\n  window.addEventListener('message', function(){\n    var i = 0;\n    while (i < q.length) {\n      try { q[i++](); }\n      catch (e) {\n        q = q.slice(i);\n        window.postMessage('tic!', '*');\n        throw e;\n      }\n    }\n    q.length = 0;\n  }, true);\n\n  module.exports = function(fn){\n    if (!q.length) window.postMessage('tic!', '*');\n    q.push(fn);\n  }\n}\n\n}, {}],\n20: [function(require, module, exports) {\n\n/**\n * Module dependencies.\n */\n\nvar Emitter;\nvar bind;\n\ntry {\n  Emitter = require('component-emitter');\n  bind = require('component-bind');\n} catch (err) {\n  Emitter = require('emitter');\n  bind = require('bind');\n}\n\n/**\n * Expose `Queue`.\n */\n\nmodule.exports = Queue;\n\n/**\n * Initialize a `Queue` with the given options:\n *\n *  - `concurrency` [1]\n *  - `timeout` [0]\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Queue(options) {\n  options = options || {};\n  this.timeout = options.timeout || 0;\n  this.concurrency = options.concurrency || 1;\n  this.pending = 0;\n  this.jobs = [];\n}\n\n/**\n * Mixin emitter.\n */\n\nEmitter(Queue.prototype);\n\n/**\n * Return queue length.\n *\n * @return {Number}\n * @api public\n */\n\nQueue.prototype.length = function(){\n  return this.pending + this.jobs.length;\n};\n\n/**\n * Queue `fn` for execution.\n *\n * @param {Function} fn\n * @param {Function} [cb]\n * @api public\n */\n\nQueue.prototype.push = function(fn, cb){\n  this.jobs.push([fn, cb]);\n  setTimeout(bind(this, this.run), 0);\n};\n\n/**\n * Run jobs at the specified concurrency.\n *\n * @api private\n */\n\nQueue.prototype.run = function(){\n  while (this.pending < this.concurrency) {\n    var job = this.jobs.shift();\n    if (!job) break;\n    this.exec(job);\n  }\n};\n\n/**\n * Execute `job`.\n *\n * @param {Array} job\n * @api private\n */\n\nQueue.prototype.exec = function(job){\n  var self = this;\n  var ms = this.timeout;\n\n  var fn = job[0];\n  var cb = job[1];\n  if (ms) fn = timeout(fn, ms);\n\n  this.pending++;\n  fn(function(err, res){\n    cb && cb(err, res);\n    self.pending--;\n    self.run();\n  });\n};\n\n/**\n * Decorate `fn` with a timeout of `ms`.\n *\n * @param {Function} fn\n * @param {Function} ms\n * @return {Function}\n * @api private\n */\n\nfunction timeout(fn, ms) {\n  return function(cb){\n    var done;\n\n    var id = setTimeout(function(){\n      done = true;\n      var err = new Error('Timeout of ' + ms + 'ms exceeded');\n      err.timeout = timeout;\n      cb(err);\n    }, ms);\n\n    fn(function(err, res){\n      if (done) return;\n      clearTimeout(id);\n      cb(err, res);\n    });\n  }\n}\n\n}, {\"component-emitter\":24,\"component-bind\":25,\"emitter\":24,\"bind\":25}],\n24: [function(require, module, exports) {\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n}, {}],\n25: [function(require, module, exports) {\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n}, {}],\n21: [function(require, module, exports) {\n;(function(win){\n\tvar store = {},\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.17'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {}\n\tstore.forEach = function() {}\n\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.getAll = function() {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tfunction ieKeyFix(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=0, attr; attr=attributes[i]; i++) {\n\t\t\t\tstorage.removeAttribute(attr.name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.getAll = function(storage) {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\n\tif (typeof module != 'undefined' && module.exports && this.module !== module) { module.exports = store }\n\telse if (typeof define === 'function' && define.amd) { define(store) }\n\telse { win.store = store }\n\n})(Function('return this')());\n\n}, {}]}, {}, {\"1\":\"\"})\n",
    "deps": {
      "xstore": "components/niiknow-xstore@gh-pages/lib/index.js",
      "defaults": "components/avetisk-defaults@0.0.4/index.js",
      "cookie": "components/component-cookie@1.1.1/index.js",
      "emitter": "components/component-emitter@1.1.0/index.js",
      "querystring": "components/component-querystring@1.3.0/index.js",
      "uuid": "components/gjohnson-uuid@0.0.1/index.js",
      "webanalyser": "components/niiknow-webanalyser@master/lib/index.js",
      "domevent": "components/niiknow-domevent@master/index.js",
      "component-emitter": "components/component-emitter@1.1.0/index.js"
    }
  },
  "components/gjohnson-uuid@0.0.1/index.js": {
    "id": "components/gjohnson-uuid@0.0.1/index.js",
    "type": "js",
    "mtime": 1376239894000,
    "src": "\n/**\n * Taken straight from jed's gist: https://gist.github.com/982883\n *\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n */\n\nmodule.exports = function uuid(a){\n  return a           // if the placeholder was passed, return\n    ? (              // a random number from 0 to 15\n      a ^            // unless b is 8,\n      Math.random()  // in which case\n      * 16           // a random number from\n      >> a/4         // 8 to 11\n      ).toString(16) // in hexadecimal\n    : (              // or otherwise a concatenated string:\n      [1e7] +        // 10000000 +\n      -1e3 +         // -1000 +\n      -4e3 +         // -4000 +\n      -8e3 +         // -80000000 +\n      -1e11          // -100000000000,\n      ).replace(     // replacing\n        /[018]/g,    // zeroes, ones, and eights with\n        uuid         // random hex digits\n      )\n};",
    "deps": {}
  },
  "components/niiknow-domevent@master/index.js": {
    "id": "components/niiknow-domevent@master/index.js",
    "type": "js",
    "mtime": 1428899984000,
    "src": "myObj = null\nmydefine = function(h, F){\n\tmyObj = F().$;\n};\n// minified.js config start -- use this comment to re-create a configuration in the Builder\n// - Only sections always, each, error, fill, get, ie6compatibility, \n// - ie7compatibility, ie8compatibility, ie9compatibility, off, on, onclick, parsejson, \n// - promise, ready, request, set, tojson, trigger, values, wait.\n\n\nmydefine(\"minified\",function(){function E(a){return a!=g?\"\"+a:\"\"}function A(a){return\"string\"==typeof a}function B(a){return a&&a.nodeType}function F(a){return a}function m(a,b,c){return E(a).replace(b,c!=g?c:\"\")}function C(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c||a,d,a[d]);return a}function r(a,b,c){if(a)for(var d=0;d<a.length;d++)b.call(c||a,a[d],d);return a}function P(a,b){var c=[],d=n(b)?b:function(a){return b!=a};r(a,function(b,f){d.call(a,b,f)&&c.push(b)});return c}function x(a,b,\nc){var d=[];a(b,function(a,f){t(a=c.call(b,a,f))?r(a,function(a){d.push(a)}):a!=g&&d.push(a)});return d}function G(a,b){var c=[];r(a,function(d,e){c.push(b.call(a,d,e))});return c}function K(a,b){var c=b||{},d;for(d in a)c[d]=a[d]}function L(a,b,c){if(n(a))return a.apply(c&&b,G(c||b,F))}function Q(a){G(a,function(a){return L(a,void 0,void 0)})}function R(a){return\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)}function n(a){return\"function\"==typeof a&&!a.item}function t(a){return a&&a.length!=\ng&&!A(a)&&!B(a)&&!n(a)&&a!==p}function S(a,b){for(var c=0;a&&c<a.length;c++)a[c]===b&&a.splice(c--,1)}function H(a){return a.Nia=a.Nia||++Z}function T(a,b){var c=[],d={},e;l(a,function(a){l(b(a),function(a){d[e=H(a)]||(c.push(a),d[e]=!0)})});return c}function aa(a,b,c,d,e,f){return function(h,k){var g,u=h||p.event,U=!f,y=k||u.target||u.srcElement;if(f)for(;y&&y!=b&&!(U=f(y));)y=y.parentNode;U&&(g=(!a.apply(q(f?y:b),c||[u,d])||\"\"==e)&&\"|\"!=e)&&!k&&(u.preventDefault&&(u.preventDefault(),u.stopPropagation()),\nu.cancelBubble=!0);return!g}}function M(a,b){l(b,function(a){a.element.detachEvent(\"on\"+a.a,a.b)})}function V(a){D?D.push(a):setTimeout(a,0)}function W(a){return x(l,a,function(a){if(t(a))return W(a);B(a)&&(a=a.cloneNode(!0),a.removeAttribute&&a.removeAttribute(\"id\"));return a})}function q(a,b,c){return n(a)?V(a):new I(z(a,b,c))}function z(a,b,c){function d(a){a=x(l,a,function y(a){return t(a)?x(l,a,y):a});return f?P(a,function(a){for(;a=a.parentNode;)if(a==f||c)return a==f}):a}function e(a,b){var c=\nRegExp(\"(^|\\\\s+)\"+a+\"(?=$|\\\\s)\",\"i\");return function(d){return a?c.test(d[b]):!0}}var f,h,k,g;if(b&&1!=(b=z(b)).length)return T(b,function(b){return z(a,b,c)});f=b&&b[0];if(!A(a))return d(a);if(f&&1!=B(f))return[];if(1<(b=a.split(/\\s*,\\s*/)).length)return T(b,function(a){return z(a,f,c)});if(b=/(\\S+)\\s+(.+)$/.exec(a))return z(b[2],z(b[1],f),c);if(a!=(b=m(a,/^#/)))return d(document.getElementById(b));h=(b=/([\\w-]*)\\.?([\\w-]*)/.exec(a))[1];g=b[2];b=(k=document.getElementsByClassName&&g)?(f||document).getElementsByClassName(g):\n(f||document).getElementsByTagName(h||\"*\");if(h=k?h:g)b=P(b,e(h,k?\"tagName\":\"className\"));return c?d(b):b}function ba(a,b){function c(a,b){var c=RegExp(\"(^|\\\\s+)\"+a+\"(?=$|\\\\s)\",\"i\");return function(d){return a?c.test(d[b]):!0}}var d={},e=d;if(n(a))return a;if(\"number\"==typeof a)return function(b,c){return c==a};if(!a||\"*\"==a||A(a)&&(e=/^([\\w-]*)\\.?([\\w-]*)$/.exec(a))){var f=c(e[1],\"tagName\"),h=c(e[2],\"className\");return function(a){return 1==B(a)&&f(a)&&h(a)}}if(b)return function(c){return q(a,b).find(c)!=\ng};q(a).each(function(a){d[H(a)]=!0});return function(a){return d[H(a)]}}function l(a,b){t(a)?r(a,b):a!=g&&b(a,0);return a}function J(){function a(a,d){b==g&&a!=g&&(b=a,h=t(d)?d:[d],setTimeout(function(){r(c,function(a){a()})},0));return b}var b,c=[],d=arguments,e=d.length,f=0,h=[];r(d,function u(b,c){try{b.then?b.then(function(b){var d;(b&&\"object\"==typeof b||n(b))&&n(d=b.then)?u(d,c):(h[c]=G(arguments,F),++f==e&&a(!0,2>e?h[c]:h))},function(b){h[c]=G(arguments,F);a(!1,2>e?h[c]:[h[c][0],h,c])}):b(function(){a(!0,\narguments)},function(){a(!1,arguments)})}catch(d){a(!1,[d,h,c])}});a.stop=function(){r(d,function(a){a.stop&&a.stop()});return L(a.stop0)};var k=a.then=function(d,e){function f(){try{var a=b?d:e;n(a)?function ca(a){try{var b,c=0;if((a&&\"object\"==typeof a||n(a))&&n(b=a.then)){if(a===k)throw new TypeError;b.call(a,function(a){c++||ca(a)},function(a){c++||k(!1,[a])});k.stop0=a.stop}else k(!0,[a])}catch(d){c++||k(!1,[d])}}(L(a,X,h)):k(b,h)}catch(c){k(!1,[c])}}var k=J();k.stop0=a.stop;b!=g?setTimeout(f,\n0):c.push(f);return k};a.always=function(a){return k(a,a)};a.error=function(a){return k(0,a)};return a}function I(a,b){var c=0;if(a)for(var d=0,e=a.length;d<e;d++){var f=a[d];if(b&&t(f))for(var h=0,k=f.length;h<k;h++)this[c++]=f[h];else this[c++]=f}else this[c++]=b;this.length=c;this._=!0}var p=this,N={},O={},Z=1,v={},D=/^[ic]/.test(document.readyState)?g:[],w=!!document.all&&!document.addEventListener,g=null,X;K({each:function(a){return function(b,c,d){return a(this,b,c,d)}}(r),f:0,remove:function(){l(this,\nfunction(a){w&&1==B(a)&&(l(z(\"*\",a),function(a){M(0,v[a.Nia]);delete v[a.Nia]}),M(0,v[a.Nia]),delete v[a.Nia]);a.parentNode.removeChild(a)})},get:function(a,b){var c=this,d=c[0];if(d){if(A(a)){var e=/^(\\W*)(.*)/.exec(m(a,/^%/,\"@data-\")),f=e[1],d=O[f]?O[f](this,e[2]):\"$\"==a?c.get(\"className\"):\"$$\"==a?w?d.style.cssText:c.get(\"@style\"):\"$$slide\"==a?c.get(\"$height\"):\"$$fade\"==a||\"$$show\"==a?\"hidden\"==c.get(\"$visibility\")||\"none\"==c.get(\"$display\")?0:\"$$fade\"==a?w?isNaN(c.get(\"$filter\",!0))?1:c.get(\"$filter\",\n!0)/100:isNaN(c.get(\"$opacity\",!0))?1:c.get(\"$opacity\",!0):1:\"$$scrollX\"==a?p.pageXOffset!=g?p.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft:\"$$scrollY\"==a?p.pageXOffset!=g?p.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop:\"$\"==f?p.getComputedStyle?p.getComputedStyle(d,g).getPropertyValue(m(e[2],/[A-Z]/g,function(a){return\"-\"+a.toLowerCase()})):(d.currentStyle||d.style)[m(e[2],/^float$/,\"cssFloat\")]:\"@\"==f?d.getAttribute(e[2]):\nd[e[2]];return b?parseFloat(m(d,/^[^\\d-]+/)):d}var h={};(t(a)?l:C)(a,function(a){h[a]=c.get(a,b)});return h}},set:function(a,b){var c=this;if(b!==X){var d=/^(\\W*)(.*)/.exec(m(m(a,/^\\$float$/,\"cssFloat\"),/^%/,\"@data-\")),e=d[1];if(N[e])N[e](this,d[2],b);else\"$$fade\"==a?c.set({$visibility:b?\"visible\":\"hidden\"}).set(w?1>b?{$filter:\"alpha(opacity = \"+100*b+\")\",$zoom:1}:{$filter:\"\"}:{$opacity:b}):\"$$slide\"==a?c.set({$visibility:b?\"visible\":\"hidden\",$overflow:\"hidden\",$height:/px/.test(b)?b:function(a,c,\nd){a=q(d);d={$position:\"absolute\",$visibility:\"hidden\",$display:\"block\",$height:g};c=a.get(d);d=a.set(d).get(\"clientHeight\");a.set(c);return d*b+\"px\"}}):\"$$show\"==a?b?c.set({$visibility:b?\"visible\":\"hidden\",$display:\"\"}).set({$display:function(a){return\"none\"==a?\"block\":a}}):c.set({$display:\"none\"}):\"$$\"==a?w?c.set(\"$cssText\",b):c.set(\"@style\",b):l(this,function(c,h){var k=n(b)?b(q(c).get(a),h,c):b;\"$\"==e?d[2]?c.style[d[2]]=k:l(k&&k.split(/\\s+/),function(a){var b=m(a,/^[+-]/),d=c.className||\"\",e=\nm(d,RegExp(\"(^|\\\\s+)\"+b+\"(?=$|\\\\s)\"));if(/^\\+/.test(a)||b==a&&d==e)e+=\" \"+b;c.className=m(e,/^\\s+|\\s+$/g)}):\"$$scrollX\"==a?c.scroll(k,q(c).get(\"$$scrollY\")):\"$$scrollY\"==a?c.scroll(q(c).get(\"$$scrollX\"),k):\"@\"==e?k==g?c.removeAttribute(d[2]):c.setAttribute(d[2],k):c[d[2]]=k})}else A(a)||n(a)?c.set(\"$\",a):C(a,function(a,b){c.set(a,b)});return c},add:function(a,b){return this.each(function(c,d){function e(a){t(a)?l(a,e):n(a)?e(a(c,d)):a!=g&&(a=B(a)?a:document.createTextNode(a),f?f.parentNode.insertBefore(a,\nf.nextSibling):b?b(a,c,c.parentNode):c.appendChild(a),f=a)}var f;e(d&&!n(a)?W(a):a)})},fill:function(a){return this.each(function(a){q(a.childNodes).remove()}).add(a)},values:function(a){var b=a||{};this.each(function(a){var d=a.name||a.id,e=E(a.value);if(/form/i.test(a.tagName))for(d=0;d<a.elements.length;d++)q(a.elements[d]).values(b);else!d||/ox|io/i.test(a.type)&&!a.checked||(b[d]=b[d]==g?e:x(l,[b[d],e],F))});return b},on:function(a,b,c,d,e){return n(b)?this.on(g,a,b,c,e):A(d)?this.on(a,b,c,g,\nd):this.each(function(f,h){l(a?z(a,f):f,function(a){l(E(b).split(/\\s/),function(b){var f=m(b,/[?|]/),g=!!e&&(\"blur\"==f||\"focus\"==f),l=aa(c,a,d,h,m(b,/[^?|]/g),e&&ba(e,a));b={element:a,b:l,a:f,c:g};(c.M=c.M||[]).push(b);w?(a.attachEvent(\"on\"+b.a+(g?\"in\":\"\"),l),f=H(a),(v[f]=v[f]||[]).push(b)):(a.addEventListener(f,l,g),(a.M=a.M||[]).push(b))})})})},onClick:function(a,b,c,d){return n(b)?this.on(a,\"click\",b,c,d):this.onClick(g,a,b,c)},trigger:function(a,b){return this.each(function(c){for(var d,e=c;e&&\n!d;)l(w?v[e.Nia]:e.M,function(e){e.a==a&&(d=d||!e.b(b,c))}),e=e.parentNode})},e:0},I.prototype);K({request:function(a,b,c,d){d=d||{};var e,f=0,h=J(),k=c&&c.constructor==d.constructor;try{h.xhr=e=p.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"),h.stop0=function(){e.abort()},k&&(c=x(C,c,function(a,b){return x(l,b,function(b){return encodeURIComponent(a)+(b!=g?\"=\"+encodeURIComponent(b):\"\")})}).join(\"&\")),c==g||/post/i.test(a)||(b+=\"?\"+c,c=g),e.open(a,b,!0,d.user,d.pass),k&&\n/post/i.test(a)&&e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),C(d.headers,function(a,b){e.setRequestHeader(a,b)}),C(d.xhr,function(a,b){e[a]=b}),e.onreadystatechange=function(){4!=e.readyState||f++||(200==e.status?h(!0,[e.responseText,e]):h(!1,[e.status,e.responseText,e]))},e.send(c)}catch(m){f||h(!1,[0,g,E(m)])}return h},toJSON:function b(c){return c==g?\"\"+c:A(c=c.valueOf())?'\"'+m(c,/[\\\\\\\"\\x00-\\x1f\\u2028\\u2029]/g,R)+'\"':t(c)?\"[\"+x(l,c,b).join()+\"]\":c&&\"object\"==typeof c?\n\"{\"+x(C,c,function(c,e){return b(c)+\":\"+b(e)}).join()+\"}\":E(c)},parseJSON:p.JSON?p.JSON.parse:function(b){b=m(b,/[\\x00\\xad\\u0600-\\uffff]/g,R);if(/^[[\\],:{}\\s]*$/.test(m(m(b,/\\\\[\"\\\\\\/bfnrtu]/g),/\"[^\"\\\\\\n\\r]*\"|true|false|null|[\\d.eE+-]+/g)))return eval(\"(\"+b+\")\")},ready:V,off:function(b){l(b.M,function(b){w?(b.element.detachEvent(\"on\"+b.a+(b.c?\"in\":\"\"),b.b),S(v[b.element.Nia],b)):(b.element.removeEventListener(b.a,b.b,b.c),S(b.element.M,b))});b.M=g},wait:function(b,c){var d=J(),e=setTimeout(function(){d(!0,\nc)},b);d.stop0=function(){d(!1);clearTimeout(e)};return d}},q);K({each:r,toObject:function(b,c){var d={};r(b,function(b){d[b]=c});return d},d:0,promise:J},function(){return new I(arguments,!0)});if(w){var Y=function(){Q(D);D=g};document.attachEvent(\"onreadystatechange\",function(){/^[ic]/.test(document.readyState)&&Y()});p.attachEvent(\"onload\",Y)}else document.addEventListener(\"DOMContentLoaded\",function(){Q(D);D=g},!1);p.g=function(){l(v,M)};return{$:q,M:I,getter:O,setter:N}});\n\nmodule.exports = myObj;",
    "deps": {}
  },
  "components/niiknow-gmodal@gh-pages/index.js": {
    "id": "components/niiknow-gmodal@gh-pages/index.js",
    "type": "js",
    "mtime": 1429492891000,
    "src": "(function outer(modules, cache, entries){\n\n  /**\n   * Global\n   */\n\n  var global = (function(){ return this; })();\n\n  /**\n   * Require `name`.\n   *\n   * @param {String} name\n   * @param {Boolean} jumped\n   * @api public\n   */\n\n  function require(name, jumped){\n    if (cache[name]) return cache[name].exports;\n    if (modules[name]) return call(name, require);\n    throw new Error('cannot find module \"' + name + '\"');\n  }\n\n  /**\n   * Call module `id` and cache it.\n   *\n   * @param {Number} id\n   * @param {Function} require\n   * @return {Function}\n   * @api private\n   */\n\n  function call(id, require){\n    var m = cache[id] = { exports: {} };\n    var mod = modules[id];\n    var name = mod[2];\n    var fn = mod[0];\n\n    fn.call(m.exports, function(req){\n      var dep = modules[id][1][req];\n      return require(dep ? dep : req);\n    }, m, m.exports, outer, modules, cache, entries);\n\n    // expose as `name`.\n    if (name) cache[name] = cache[id];\n\n    return cache[id].exports;\n  }\n\n  /**\n   * Require all entries exposing them on global if needed.\n   */\n\n  for (var id in entries) {\n    if (entries[id]) {\n      global[entries[id]] = require(id);\n    } else {\n      require(id);\n    }\n  }\n\n  /**\n   * Duo flag.\n   */\n\n  require.duo = true;\n\n  /**\n   * Expose cache.\n   */\n\n  require.cache = cache;\n\n  /**\n   * Expose modules\n   */\n\n  require.modules = modules;\n\n  /**\n   * Return newest require.\n   */\n\n   return require;\n})({\n1: [function(require, module, exports) {\n(function() {\n  var $baseCls, $css, $doc, $tpl, $win, Emitter, createModal, hasCls, injectStyle, modal, result;\n\n  Emitter = require('emitter');\n\n  $tpl = require('./template.html');\n\n  $css = require('./index.css');\n\n  $win = window;\n\n  $doc = $win.document;\n\n  $baseCls = 'gmodal';\n\n  injectStyle = function(id, data) {\n    var el;\n    el = $doc.getElementById(id);\n    if (!el) {\n      el = $doc.createElement('style');\n      el.type = 'text/css';\n      el.appendChild($doc.createTextNode(data));\n      return ($doc.head || $doc.getElementsByTagName('head')[0]).appendChild(el);\n    }\n  };\n\n  hasCls = function(el, cls) {\n    var i, k, len, ref, v;\n    ref = cls.split(' ');\n    for (k = i = 0, len = ref.length; i < len; k = ++i) {\n      v = ref[k];\n      if ((' ' + el.className).indexOf(' ' + v) >= 0) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  createModal = function() {\n    var el, myKeypress;\n    el = $doc.getElementById(\"gmodal\");\n    if (!el) {\n      injectStyle('gmodal-css', $css);\n      el = $doc.createElement('div');\n      el.id = 'gmodal';\n      el.onclick = function(evt) {\n        evt = evt || $win.event;\n        evt.target = evt.target || evt.srcElement;\n        if (hasCls(evt.target, 'gmodal-wrap gmodal-close') || evt.target === el) {\n          gmodal.emit('click', evt);\n        }\n        return false;\n      };\n      myKeypress = function(evt) {\n        evt = evt || $win.event;\n        evt.target = evt.target || evt.srcElement;\n        if (hasCls(evt.target, 'gmodal-wrap') || evt.target === el || evt.target === $doc || evt.target === $doc.body) {\n          if ((evt.which || evt.keyCode) === 27) {\n            gmodal.emit('esc', evt);\n          }\n        }\n        return false;\n      };\n      el.onkeypress = myKeypress;\n      $doc.onkeypress = myKeypress;\n      el.ontap = function(evt) {\n        evt = evt || $win.event;\n        evt.target = evt.target || evt.srcElement;\n        if (hasCls(evt.target, 'gmodal-wrap gmodal-close') || evt.target === el) {\n          gmodal.emit('tap', evt);\n        }\n        return false;\n      };\n      el.innerHTML = $tpl;\n      $doc.getElementsByTagName('body')[0].appendChild(el);\n    }\n    return el;\n  };\n\n\n  /**\n   * modal\n   */\n\n  modal = (function() {\n    function modal() {}\n\n    modal.prototype.elWrapper = null;\n\n    modal.prototype.el = null;\n\n    modal.prototype.options = {};\n\n    modal.prototype.show = function(options) {\n      var self;\n      self = this;\n      self.elWrapper = createModal();\n      if (!self.el) {\n        self.el = $doc.getElementById(\"gmodalContent\");\n      }\n      if ((options != null)) {\n        self.options = options;\n        if ((self.options.content != null)) {\n          self.el.innerHTML = self.options.content;\n          self.options.content = null;\n        }\n      }\n      if (!self.options) {\n        return self;\n      }\n      self.elWrapper.style.display = self.elWrapper.style.visibility = \"\";\n      self.elWrapper.className = ($baseCls + \" gmodal-show \") + (self.options.cls || '');\n      self.emit('show');\n      return this;\n    };\n\n    modal.prototype.hide = function() {\n      var self;\n      self = this;\n      if (!self.elWrapper) {\n        return self;\n      }\n      self.elWrapper.className = \"\" + $baseCls;\n      self.emit('hide');\n      return this;\n    };\n\n    modal.prototype.injectStyle = injectStyle;\n\n    return modal;\n\n  })();\n\n  Emitter(modal.prototype);\n\n  result = new modal();\n\n  $win.gmodal = result;\n\n  module.exports = result;\n\n}).call(this);\n\n}, {\"emitter\":2,\"./template.html\":3,\"./index.css\":4}],\n2: [function(require, module, exports) {\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n}, {}],\n3: [function(require, module, exports) {\nmodule.exports = '<div class=\"gmodal-wrap gmodal-top\">&nbsp;<div>\\n<div class=\"gmodal-wrap gmodal-left\"></div><div class=\"gmodal-content\" id=\"gmodalContent\"></div><div class=\"gmodal-wrap gmodal-right\"></div>';\n}, {}],\n4: [function(require, module, exports) {\nmodule.exports = '.gmodal {\\n    display: none;\\n    overflow: hidden;\\n    outline: 0;\\n    -webkit-overflow-scrolling: touch;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 9999990;  /* based on safari 16777271 */ \\n}\\n.gmodal-show { display: table }\\n.gmodal-wrap,\\n.gmodal-content {\\n    display: table-cell;\\n    width: 33%;\\n}';\n}, {}]}, {}, {\"1\":\"\"})\n",
    "deps": {
      "emitter": "components/component-emitter@1.2.0/index.js"
    }
  },
  "components/component-emitter@1.2.0/index.js": {
    "id": "components/component-emitter@1.2.0/index.js",
    "type": "js",
    "mtime": 1423766012000,
    "src": "\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n",
    "deps": {}
  },
  "components/component-emitter@1.1.0/index.js": {
    "id": "components/component-emitter@1.1.0/index.js",
    "type": "js",
    "mtime": 1382335431000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar index = require('indexof');\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  fn._off = on;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var i = index(callbacks, fn._off || fn);\n  if (~i) callbacks.splice(i, 1);\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n",
    "deps": {
      "indexof": "components/component-indexof@0.0.3/index.js"
    }
  },
  "components/component-indexof@0.0.3/index.js": {
    "id": "components/component-indexof@0.0.3/index.js",
    "type": "js",
    "mtime": 1392082405000,
    "src": "module.exports = function(arr, obj){\n  if (arr.indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};",
    "deps": {}
  },
  "components/component-querystring@1.3.0/index.js": {
    "id": "components/component-querystring@1.3.0/index.js",
    "type": "js",
    "mtime": 1397491854000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\nvar trim = require('trim');\nvar type = require('type');\n\n/**\n * Parse the given query `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(str){\n  if ('string' != typeof str) return {};\n\n  str = trim(str);\n  if ('' == str) return {};\n  if ('?' == str.charAt(0)) str = str.slice(1);\n\n  var obj = {};\n  var pairs = str.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var parts = pairs[i].split('=');\n    var key = decode(parts[0]);\n    var m;\n\n    if (m = /(\\w+)\\[(\\d+)\\]/.exec(key)) {\n      obj[m[1]] = obj[m[1]] || [];\n      obj[m[1]][m[2]] = decode(parts[1]);\n      continue;\n    }\n\n    obj[parts[0]] = null == parts[1]\n      ? ''\n      : decode(parts[1]);\n  }\n\n  return obj;\n};\n\n/**\n * Stringify the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api public\n */\n\nexports.stringify = function(obj){\n  if (!obj) return '';\n  var pairs = [];\n\n  for (var key in obj) {\n    var value = obj[key];\n\n    if ('array' == type(value)) {\n      for (var i = 0; i < value.length; ++i) {\n        pairs.push(encode(key + '[' + i + ']') + '=' + encode(value[i]));\n      }\n      continue;\n    }\n\n    pairs.push(encode(key) + '=' + encode(obj[key]));\n  }\n\n  return pairs.join('&');\n};\n",
    "deps": {
      "trim": "components/component-trim@0.0.1/index.js",
      "type": "components/component-type@1.1.0/index.js"
    }
  },
  "components/component-trim@0.0.1/index.js": {
    "id": "components/component-trim@0.0.1/index.js",
    "type": "js",
    "mtime": 1381360956000,
    "src": "\nexports = module.exports = trim;\n\nfunction trim(str){\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  if (str.trimLeft) return str.trimLeft();\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  if (str.trimRight) return str.trimRight();\n  return str.replace(/\\s*$/, '');\n};\n",
    "deps": {}
  },
  "components/component-type@1.1.0/index.js": {
    "id": "components/component-type@1.1.0/index.js",
    "type": "js",
    "mtime": 1418045096000,
    "src": "/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val)\n\n  return typeof val;\n};\n",
    "deps": {}
  },
  "components/niiknow-xstore@gh-pages/lib/index.js": {
    "id": "components/niiknow-xstore@gh-pages/lib/index.js",
    "type": "js",
    "mtime": 1429478696000,
    "src": "// Generated by CoffeeScript 1.9.2\n(function(win) {\n  var Queue, cacheBust, deferredObject, delay, dnt, doPostMessage, doc, handleMessageEvent, hash, iframe, load, lstore, mydeferred, myproxy, onMessage, proxyPage, proxyWin, q, randomHash, store, usePostMessage, xstore;\n  doc = win.document;\n  load = require('load-iframe');\n  Queue = require('queue');\n  store = require('store.js');\n  proxyPage = 'http://niiknow.github.io/xstore/xstore.html';\n  deferredObject = {};\n  iframe = void 0;\n  proxyWin = void 0;\n  usePostMessage = win.postMessage != null;\n  cacheBust = 0;\n  hash = void 0;\n  delay = 333;\n  lstore = {};\n  q = new Queue({\n    concurrency: 1,\n    timeout: delay + 5\n  });\n  dnt = win.navigator.doNotTrack || navigator.msDoNotTrack || win.doNotTrack;\n  onMessage = function(fn) {\n    if (win.addEventListener) {\n      return win.addEventListener(\"message\", fn, false);\n    } else {\n      return win.attachEvent(\"onmessage\", fn);\n    }\n  };\n\n  /**\n   * defer/promise class\n  #\n   */\n  mydeferred = (function() {\n    var i, k, len, ref, v;\n\n    function mydeferred() {}\n\n    mydeferred.prototype.q = function(event, item) {\n      var d, deferredHash, self;\n      self = this;\n      self.mycallbacks = [];\n      self.myerrorbacks = [];\n      deferredHash = randomHash();\n      d = [0, deferredHash, event, item.k, item.v];\n      deferredObject[deferredHash] = self;\n      if (usePostMessage) {\n        doPostMessage(JSON.stringify(d));\n      } else {\n        if (iframe !== null) {\n          cacheBust += 1;\n          d[0] = +(new Date) + cacheBust;\n          hash = '#' + JSON.stringify(d);\n          if (iframe.src) {\n            iframe.src = \"\" + proxyPage + hash;\n          } else if ((iframe.contentWindow != null) && (iframe.contentWindow.location != null)) {\n            iframe.contentWindow.location = \"\" + proxyPage + hash;\n          } else {\n            iframe.setAttribute('src', \"\" + proxyPage + hash);\n          }\n        }\n      }\n      self.then = function(fn, fnErr) {\n        if (fnErr) {\n          self.myerrorbacks.push(fnErr);\n        }\n        self.mycallbacks.push(fn);\n        return self;\n      };\n      return self;\n    };\n\n    mydeferred.prototype.myresolve = function(data) {\n      var i, k, len, ref, self, v;\n      self = this;\n      ref = self.mycallbacks || [];\n      for (k = i = 0, len = ref.length; i < len; k = ++i) {\n        v = ref[k];\n        v(data);\n      }\n      return self;\n    };\n\n    mydeferred.prototype.myreject = function(e) {\n      var self;\n      return self = this;\n    };\n\n    ref = self.myerrorbacks || [];\n    for (k = i = 0, len = ref.length; i < len; k = ++i) {\n      v = ref[k];\n      v(data);\n    }\n\n    self;\n\n    return mydeferred;\n\n  })();\n  myproxy = (function() {\n    function myproxy() {}\n\n    myproxy.prototype.delay = 333;\n\n    myproxy.prototype.hash = win.location.hash;\n\n    myproxy.prototype.init = function() {\n      var self;\n      self = this;\n      if (usePostMessage) {\n        return onMessage(self.handleProxyMessage);\n      } else {\n        return setInterval((function() {\n          var newhash;\n          newhash = win.location.hash;\n          if (newhash !== hash) {\n            hash = newhash;\n            self.handleProxyMessage({\n              data: JSON.parse(newhash.substr(1))\n            });\n          }\n        }), self.delay);\n      }\n    };\n\n    myproxy.prototype.handleProxyMessage = function(e) {\n      var d, id, key, method, myCacheBust, self;\n      d = e.data;\n      if (typeof d === \"string\") {\n        if (/^xstore-/.test(d)) {\n          d = d.split(\",\");\n        } else {\n          try {\n            d = JSON.parse(d);\n          } catch (_error) {\n            return;\n          }\n        }\n      }\n      if (!(d instanceof Array)) {\n        return;\n      }\n      id = d[1];\n      if (!/^xstore-/.test(id)) {\n        return;\n      }\n      self = this;\n      key = d[3] || 'xstore';\n      method = d[2];\n      cacheBust = 0;\n      if (method === 'get') {\n        d[4] = store.get(key);\n      } else if (method === 'set') {\n        store.set(key, d[4]);\n      } else if (method === 'remove') {\n        store.remove(key);\n      } else if (method === 'clear') {\n        store.clear();\n      } else {\n        d[2] = 'error-' + method;\n      }\n      d[1] = id.replace('xstore-', 'xstoreproxy-');\n      if (usePostMessage) {\n        e.source.postMessage(JSON.stringify(d), '*');\n      } else {\n        cacheBust += 1;\n        myCacheBust = +(new Date) + cacheBust;\n        d[0] = myCacheBust;\n        hash = '#' + JSON.stringify(d);\n        win.location = win.location.href.replace(globals.location.hash, '') + hash;\n      }\n    };\n\n    return myproxy;\n\n  })();\n  randomHash = function() {\n    var rh;\n    rh = Math.random().toString(36).substr(2);\n    return \"xstore-\" + rh;\n  };\n  doPostMessage = function(msg) {\n    if ((proxyWin != null)) {\n      proxyWin.postMessage(msg, '*');\n      return;\n    }\n    return q.push(function() {\n      return doPostMessage(msg);\n    });\n  };\n  handleMessageEvent = function(e) {\n    var d, di, id;\n    d = e.data;\n    if (typeof d === \"string\") {\n      if (/^xstoreproxy-/.test(d)) {\n        d = d.split(\",\");\n      } else {\n        try {\n          d = JSON.parse(d);\n        } catch (_error) {\n          return;\n        }\n      }\n    }\n    if (!(d instanceof Array)) {\n      return;\n    }\n    id = d[1];\n    if (!/^xstoreproxy-/.test(id)) {\n      return;\n    }\n    id = id.replace('xstoreproxy-', 'xstore-');\n    di = deferredObject[id];\n    if (di) {\n      if (/^error-/.test(d[2])) {\n        di.myreject(d[2]);\n      } else {\n        di.myresolve(d[4]);\n      }\n      return delete deferredObject[id];\n    }\n  };\n\n  /**\n   * xstore class\n  #\n   */\n  xstore = (function() {\n    function xstore() {}\n\n    xstore.prototype.hasInit = false;\n\n    xstore.prototype.get = function(k) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            return fn(lstore[k]);\n          }\n        };\n      }\n      return (new mydeferred()).q('get', {\n        'k': k\n      });\n    };\n\n    xstore.prototype.set = function(k, v) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            lstore[k] = v;\n            return fn(lstore[k]);\n          }\n        };\n      }\n      return (new mydeferred()).q('set', {\n        'k': k,\n        'v': v\n      });\n    };\n\n    xstore.prototype.remove = function(k) {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            delete lstore[k];\n            return fn;\n          }\n        };\n      }\n      return (new mydeferred()).q('remove', {\n        'k': k\n      });\n    };\n\n    xstore.prototype.clear = function() {\n      this.init();\n      if (dnt) {\n        return {\n          then: function(fn) {\n            lstore = {};\n            return fn;\n          }\n        };\n      }\n      return (new mydeferred()).q('clear');\n    };\n\n    xstore.prototype.init = function(options) {\n      var self;\n      self = this;\n      if (self.hasInit) {\n        return self;\n      }\n      self.hasInit = true;\n      options = options || {};\n      if (options.isProxy) {\n        (new myproxy()).init();\n        return;\n      }\n      proxyPage = options.url || proxyPage;\n      if (options.dntIgnore) {\n        dnt = false;\n      }\n      if (!store.enabled) {\n        dnt = true;\n      }\n      if (win.location.protocol === 'https') {\n        proxyPage = proxyPage.replace('http:', 'https:');\n      }\n      return iframe = load(proxyPage, function() {\n        iframe.setAttribute(\"id\", \"xstore\");\n        proxyWin = iframe.contentWindow;\n        if (!usePostMessage) {\n          hash = proxyWin.location.hash;\n          return setInterval((function() {\n            if (proxyWin.location.hash !== hash) {\n              hash = proxyWin.location.hash;\n              handleMessageEvent({\n                origin: proxyDomain,\n                data: hash.substr(1)\n              });\n            }\n          }), delay);\n        } else {\n          return onMessage(handleMessageEvent);\n        }\n      });\n    };\n\n    return xstore;\n\n  })();\n  win.xstore = new xstore();\n  return module.exports = win.xstore;\n})(window);\n",
    "deps": {
      "load-iframe": "components/segmentio-load-iframe@0.1.0/index.js",
      "queue": "components/component-queue@1.1.0/index.js",
      "store.js": "components/marcuswestin-store.js@v1.3.17/store.js"
    }
  },
  "components/marcuswestin-store.js@v1.3.17/store.js": {
    "id": "components/marcuswestin-store.js@v1.3.17/store.js",
    "type": "js",
    "mtime": 1416793370000,
    "src": ";(function(win){\n\tvar store = {},\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.17'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {}\n\tstore.forEach = function() {}\n\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.getAll = function() {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tfunction ieKeyFix(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=0, attr; attr=attributes[i]; i++) {\n\t\t\t\tstorage.removeAttribute(attr.name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.getAll = function(storage) {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\n\tif (typeof module != 'undefined' && module.exports && this.module !== module) { module.exports = store }\n\telse if (typeof define === 'function' && define.amd) { define(store) }\n\telse { win.store = store }\n\n})(Function('return this')());\n",
    "deps": {}
  },
  "components/component-cookie@1.1.1/index.js": {
    "id": "components/component-cookie@1.1.1/index.js",
    "type": "js",
    "mtime": 1414180639000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  return parse(document.cookie);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n",
    "deps": {
      "debug": "components/visionmedia-debug@2.1.3/browser.js"
    }
  },
  "components/component-queue@1.1.0/index.js": {
    "id": "components/component-queue@1.1.0/index.js",
    "type": "js",
    "mtime": 1426197328000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar Emitter;\nvar bind;\n\ntry {\n  Emitter = require('component-emitter');\n  bind = require('component-bind');\n} catch (err) {\n  Emitter = require('emitter');\n  bind = require('bind');\n}\n\n/**\n * Expose `Queue`.\n */\n\nmodule.exports = Queue;\n\n/**\n * Initialize a `Queue` with the given options:\n *\n *  - `concurrency` [1]\n *  - `timeout` [0]\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Queue(options) {\n  options = options || {};\n  this.timeout = options.timeout || 0;\n  this.concurrency = options.concurrency || 1;\n  this.pending = 0;\n  this.jobs = [];\n}\n\n/**\n * Mixin emitter.\n */\n\nEmitter(Queue.prototype);\n\n/**\n * Return queue length.\n *\n * @return {Number}\n * @api public\n */\n\nQueue.prototype.length = function(){\n  return this.pending + this.jobs.length;\n};\n\n/**\n * Queue `fn` for execution.\n *\n * @param {Function} fn\n * @param {Function} [cb]\n * @api public\n */\n\nQueue.prototype.push = function(fn, cb){\n  this.jobs.push([fn, cb]);\n  setTimeout(bind(this, this.run), 0);\n};\n\n/**\n * Run jobs at the specified concurrency.\n *\n * @api private\n */\n\nQueue.prototype.run = function(){\n  while (this.pending < this.concurrency) {\n    var job = this.jobs.shift();\n    if (!job) break;\n    this.exec(job);\n  }\n};\n\n/**\n * Execute `job`.\n *\n * @param {Array} job\n * @api private\n */\n\nQueue.prototype.exec = function(job){\n  var self = this;\n  var ms = this.timeout;\n\n  var fn = job[0];\n  var cb = job[1];\n  if (ms) fn = timeout(fn, ms);\n\n  this.pending++;\n  fn(function(err, res){\n    cb && cb(err, res);\n    self.pending--;\n    self.run();\n  });\n};\n\n/**\n * Decorate `fn` with a timeout of `ms`.\n *\n * @param {Function} fn\n * @param {Function} ms\n * @return {Function}\n * @api private\n */\n\nfunction timeout(fn, ms) {\n  return function(cb){\n    var done;\n\n    var id = setTimeout(function(){\n      done = true;\n      var err = new Error('Timeout of ' + ms + 'ms exceeded');\n      err.timeout = timeout;\n      cb(err);\n    }, ms);\n\n    fn(function(err, res){\n      if (done) return;\n      clearTimeout(id);\n      cb(err, res);\n    });\n  }\n}\n",
    "deps": {
      "component-emitter": "components/component-emitter@1.2.0/index.js",
      "component-bind": "components/component-bind@1.0.0/index.js",
      "emitter": "components/component-emitter@1.2.0/index.js",
      "bind": "components/component-bind@1.0.0/index.js"
    }
  },
  "components/component-bind@1.0.0/index.js": {
    "id": "components/component-bind@1.0.0/index.js",
    "type": "js",
    "mtime": 1401232080000,
    "src": "/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n",
    "deps": {}
  },
  "components/visionmedia-debug@2.1.3/browser.js": {
    "id": "components/visionmedia-debug@2.1.3/browser.js",
    "type": "js",
    "mtime": 1426272615000,
    "src": "\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Use chrome.storage.local if we are in an app\n */\n\nvar storage;\n\nif (typeof chrome !== 'undefined' && typeof chrome.storage !== 'undefined')\n  storage = chrome.storage.local;\nelse\n  storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      storage.removeItem('debug');\n    } else {\n      storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n",
    "deps": {
      "./debug": "components/visionmedia-debug@2.1.3/debug.js"
    }
  },
  "components/visionmedia-debug@2.1.3/debug.js": {
    "id": "components/visionmedia-debug@2.1.3/debug.js",
    "type": "js",
    "mtime": 1426272615000,
    "src": "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n",
    "deps": {
      "ms": "components/rauchg-ms.js@0.7.0/index.js"
    }
  },
  "components/rauchg-ms.js@0.7.0/index.js": {
    "id": "components/rauchg-ms.js@0.7.0/index.js",
    "type": "js",
    "mtime": 1416815896000,
    "src": "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n",
    "deps": {}
  },
  "components/segmentio-load-iframe@0.1.0/index.js": {
    "id": "components/segmentio-load-iframe@0.1.0/index.js",
    "type": "js",
    "mtime": 1423784071000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar onload = require('script-onload');\nvar tick = require('next-tick');\nvar type = require('type');\n\n/**\n * Expose `loadScript`.\n *\n * @param {Object} options\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function loadIframe(options, fn){\n  if (!options) throw new Error('Cant load nothing...');\n\n  // Allow for the simplest case, just passing a `src` string.\n  if ('string' == type(options)) options = { src : options };\n\n  var https = document.location.protocol === 'https:' ||\n              document.location.protocol === 'chrome-extension:';\n\n  // If you use protocol relative URLs, third-party scripts like Google\n  // Analytics break when testing with `file:` so this fixes that.\n  if (options.src && options.src.indexOf('//') === 0) {\n    options.src = https ? 'https:' + options.src : 'http:' + options.src;\n  }\n\n  // Allow them to pass in different URLs depending on the protocol.\n  if (https && options.https) options.src = options.https;\n  else if (!https && options.http) options.src = options.http;\n\n  // Make the `<iframe>` element and insert it before the first iframe on the\n  // page, which is guaranteed to exist since this Javaiframe is running.\n  var iframe = document.createElement('iframe');\n  iframe.src = options.src;\n  iframe.width = options.width || 1;\n  iframe.height = options.height || 1;\n  iframe.style.display = 'none';\n\n  // If we have a fn, attach event handlers, even in IE. Based off of\n  // the Third-Party Javascript script loading example:\n  // https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n  if ('function' == type(fn)) {\n    onload(iframe, fn);\n  }\n\n  tick(function(){\n    // Append after event listeners are attached for IE.\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(iframe, firstScript);\n  });\n\n  // Return the iframe element in case they want to do anything special, like\n  // give it an ID or attributes.\n  return iframe;\n};",
    "deps": {
      "script-onload": "components/segmentio-script-onload@1.0.1/index.js",
      "next-tick": "components/timoxley-next-tick@0.0.2/index.js",
      "type": "components/component-type@1.1.0/index.js"
    }
  },
  "components/segmentio-script-onload@1.0.1/index.js": {
    "id": "components/segmentio-script-onload@1.0.1/index.js",
    "type": "js",
    "mtime": 1413480231000,
    "src": "\n// https://github.com/thirdpartyjs/thirdpartyjs-code/blob/master/examples/templates/02/loading-files/index.html\n\n/**\n * Invoke `fn(err)` when the given `el` script loads.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api public\n */\n\nmodule.exports = function(el, fn){\n  return el.addEventListener\n    ? add(el, fn)\n    : attach(el, fn);\n};\n\n/**\n * Add event listener to `el`, `fn()`.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction add(el, fn){\n  el.addEventListener('load', function(_, e){ fn(null, e); }, false);\n  el.addEventListener('error', function(e){\n    var err = new Error('script error \"' + el.src + '\"');\n    err.event = e;\n    fn(err);\n  }, false);\n}\n\n/**\n * Attach evnet.\n *\n * @param {Element} el\n * @param {Function} fn\n * @api private\n */\n\nfunction attach(el, fn){\n  el.attachEvent('onreadystatechange', function(e){\n    if (!/complete|loaded/.test(el.readyState)) return;\n    fn(null, e);\n  });\n  el.attachEvent('onerror', function(e){\n    var err = new Error('failed to load the script \"' + el.src + '\"');\n    err.event = e || window.event;\n    fn(err);\n  });\n}\n",
    "deps": {}
  },
  "components/timoxley-next-tick@0.0.2/index.js": {
    "id": "components/timoxley-next-tick@0.0.2/index.js",
    "type": "js",
    "mtime": 1370855777000,
    "src": "\"use strict\"\n\nif (typeof setImmediate == 'function') {\n  module.exports = function(f){ setImmediate(f) }\n}\n// legacy node.js\nelse if (typeof process != 'undefined' && typeof process.nextTick == 'function') {\n  module.exports = process.nextTick\n}\n// fallback for other environments / postMessage behaves badly on IE8\nelse if (typeof window == 'undefined' || window.ActiveXObject || !window.postMessage) {\n  module.exports = function(f){ setTimeout(f) };\n} else {\n  var q = [];\n\n  window.addEventListener('message', function(){\n    var i = 0;\n    while (i < q.length) {\n      try { q[i++](); }\n      catch (e) {\n        q = q.slice(i);\n        window.postMessage('tic!', '*');\n        throw e;\n      }\n    }\n    q.length = 0;\n  }, true);\n\n  module.exports = function(fn){\n    if (!q.length) window.postMessage('tic!', '*');\n    q.push(fn);\n  }\n}\n",
    "deps": {}
  },
  "components/niiknow-webanalyser@master/lib/index.js": {
    "id": "components/niiknow-webanalyser@master/lib/index.js",
    "type": "js",
    "mtime": 1429473532000,
    "src": "// Generated by CoffeeScript 1.9.2\n(function(document, navigator, screen, location) {\n  'use strict';\n  var $defaults, $endTime, $onLoadHandlers, $startTime, $timeoutId, defaults, flashdetect, result, webanalyser;\n  defaults = require('defaults');\n  flashdetect = require('flashdetect');\n  $startTime = new Date().getTime();\n  $endTime = new Date().getTime();\n  $timeoutId = null;\n  $onLoadHandlers = [];\n  $defaults = {\n    sr: screen.width + \"x\" + screen.height,\n    vp: screen.availWidth + \"x\" + screen.availHeight,\n    sd: screen.colorDepth,\n    je: navigator.javaEnabled ? navigator.javaEnabled() : false,\n    ul: navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage || navigator.browserLanguage\n  };\n\n  /**\n   * webanalyser\n   */\n  webanalyser = (function() {\n    function webanalyser() {}\n\n    webanalyser.prototype.getResult = function() {\n      var rst;\n      if (defaults.dl == null) {\n        rst = {\n          dr: document.referrer,\n          dl: location.href,\n          dh: location.hostname,\n          dt: document.title,\n          z: new Date().getTime()\n        };\n        if (flashdetect.installed) {\n          rst.fl = flashdetect.major + \" \" + flashdetect.minor + \" \" + flashdetect.revisionStr;\n        }\n        $defaults = defaults(rst, $defaults);\n      }\n      return $defaults;\n    };\n\n    return webanalyser;\n\n  })();\n  result = new webanalyser();\n  return module.exports = result;\n})(document, navigator, screen, location);\n",
    "deps": {
      "defaults": "components/avetisk-defaults@0.0.4/index.js",
      "flashdetect": "components/niiknow-flashdetect@master/index.js"
    }
  },
  "components/niiknow-flashdetect@master/index.js": {
    "id": "components/niiknow-flashdetect@master/index.js",
    "type": "js",
    "mtime": 1428744935000,
    "src": "/*\nCopyright (c) Copyright (c) 2007, Carl S. Yestrau All rights reserved.\nCode licensed under the BSD License: http://www.featureblend.com/license.txt\nVersion: 1.0.4\n*/\nvar flashdetect = new function(){\n    var self = this;\n    self.installed = false;\n    self.raw = \"\";\n    self.major = -1;\n    self.minor = -1;\n    self.revision = -1;\n    self.revisionStr = \"\";\n    var activeXDetectRules = [\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash.7\",\n            \"version\":function(obj){\n                return getActiveXVersion(obj);\n            }\n        },\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash.6\",\n            \"version\":function(obj){\n                var version = \"6,0,21\";\n                try{\n                    obj.AllowScriptAccess = \"always\";\n                    version = getActiveXVersion(obj);\n                }catch(err){}\n                return version;\n            }\n        },\n        {\n            \"name\":\"ShockwaveFlash.ShockwaveFlash\",\n            \"version\":function(obj){\n                return getActiveXVersion(obj);\n            }\n        }\n    ];\n    /**\n     * Extract the ActiveX version of the plugin.\n     * \n     * @param {Object} The flash ActiveX object.\n     * @type String\n     */\n    var getActiveXVersion = function(activeXObj){\n        var version = -1;\n        try{\n            version = activeXObj.GetVariable(\"$version\");\n        }catch(err){}\n        return version;\n    };\n    /**\n     * Try and retrieve an ActiveX object having a specified name.\n     * \n     * @param {String} name The ActiveX object name lookup.\n     * @return One of ActiveX object or a simple object having an attribute of activeXError with a value of true.\n     * @type Object\n     */\n    var getActiveXObject = function(name){\n        var obj = -1;\n        try{\n            obj = new ActiveXObject(name);\n        }catch(err){\n            obj = {activeXError:true};\n        }\n        return obj;\n    };\n    /**\n     * Parse an ActiveX $version string into an object.\n     * \n     * @param {String} str The ActiveX Object GetVariable($version) return value. \n     * @return An object having raw, major, minor, revision and revisionStr attributes.\n     * @type Object\n     */\n    var parseActiveXVersion = function(str){\n        var versionArray = str.split(\",\");//replace with regex\n        return {\n            \"raw\":str,\n            \"major\":parseInt(versionArray[0].split(\" \")[1], 10),\n            \"minor\":parseInt(versionArray[1], 10),\n            \"revision\":parseInt(versionArray[2], 10),\n            \"revisionStr\":versionArray[2]\n        };\n    };\n    /**\n     * Parse a standard enabledPlugin.description into an object.\n     * \n     * @param {String} str The enabledPlugin.description value.\n     * @return An object having raw, major, minor, revision and revisionStr attributes.\n     * @type Object\n     */\n    var parseStandardVersion = function(str){\n        var descParts = str.split(/ +/);\n        var majorMinor = descParts[2].split(/\\./);\n        var revisionStr = descParts[3];\n        return {\n            \"raw\":str,\n            \"major\":parseInt(majorMinor[0], 10),\n            \"minor\":parseInt(majorMinor[1], 10), \n            \"revisionStr\":revisionStr,\n            \"revision\":parseRevisionStrToInt(revisionStr)\n        };\n    };\n    /**\n     * Parse the plugin revision string into an integer.\n     * \n     * @param {String} The revision in string format.\n     * @type Number\n     */\n    var parseRevisionStrToInt = function(str){\n        return parseInt(str.replace(/[a-zA-Z]/g, \"\"), 10) || self.revision;\n    };\n    /**\n     * Is the major version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required major version.\n     * @type Boolean\n     */\n    self.majorAtLeast = function(version){\n        return self.major >= version;\n    };\n    /**\n     * Is the minor version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required minor version.\n     * @type Boolean\n     */\n    self.minorAtLeast = function(version){\n        return self.minor >= version;\n    };\n    /**\n     * Is the revision version greater than or equal to a specified version.\n     * \n     * @param {Number} version The minimum required revision version.\n     * @type Boolean\n     */\n    self.revisionAtLeast = function(version){\n        return self.revision >= version;\n    };\n    /**\n     * Is the version greater than or equal to a specified major, minor and revision.\n     * \n     * @param {Number} major The minimum required major version.\n     * @param {Number} (Optional) minor The minimum required minor version.\n     * @param {Number} (Optional) revision The minimum required revision version.\n     * @type Boolean\n     */\n    self.versionAtLeast = function(major){\n        var properties = [self.major, self.minor, self.revision];\n        var len = Math.min(properties.length, arguments.length);\n        for(i=0; i<len; i++){\n            if(properties[i]>=arguments[i]){\n                if(i+1<len && properties[i]==arguments[i]){\n                    continue;\n                }else{\n                    return true;\n                }\n            }else{\n                return false;\n            }\n        }\n    };\n    /**\n     * Constructor, sets raw, major, minor, revisionStr, revision and installed public properties.\n     */\n    self.flashdetect = function(){\n        if(navigator.plugins && navigator.plugins.length>0){\n            var type = 'application/x-shockwave-flash';\n            var mimeTypes = navigator.mimeTypes;\n            if(mimeTypes && mimeTypes[type] && mimeTypes[type].enabledPlugin && mimeTypes[type].enabledPlugin.description){\n                var version = mimeTypes[type].enabledPlugin.description;\n                var versionObj = parseStandardVersion(version);\n                self.raw = versionObj.raw;\n                self.major = versionObj.major;\n                self.minor = versionObj.minor; \n                self.revisionStr = versionObj.revisionStr;\n                self.revision = versionObj.revision;\n                self.installed = true;\n            }\n        }else if(navigator.appVersion.indexOf(\"Mac\")==-1 && window.execScript){\n            var version = -1;\n            for(var i=0; i<activeXDetectRules.length && version==-1; i++){\n                var obj = getActiveXObject(activeXDetectRules[i].name);\n                if(!obj.activeXError){\n                    self.installed = true;\n                    version = activeXDetectRules[i].version(obj);\n                    if(version!=-1){\n                        var versionObj = parseActiveXVersion(version);\n                        self.raw = versionObj.raw;\n                        self.major = versionObj.major;\n                        self.minor = versionObj.minor; \n                        self.revision = versionObj.revision;\n                        self.revisionStr = versionObj.revisionStr;\n                    }\n                }\n            }\n        }\n    }();\n};\nflashdetect.JS_RELEASE = \"1.0.4\";\n\nmodule.exports = flashdetect;\n",
    "deps": {}
  }
}